import{a as V}from"./chunk-CSOSYXAT.js";import{c as Q}from"./chunk-26SYI5YV.js";import{a as G}from"./chunk-5GVKMHBT.js";import{a as F}from"./chunk-S2XR63X6.js";import{c as T,d as R}from"./chunk-36TWDYNZ.js";import{$ as i,Aa as d,Eb as K,F as D,G as B,Ga as q,Gb as A,Hb as O,Ja as M,K as C,L as a,M as _,N as f,P,Ta as H,U as z,X as E,aa as r,ba as m,ca as k,da as I,ga as w,ha as S,oa as U,pa as L,qa as j,ra as l,sa as g,ta as h,za as c}from"./chunk-4YXWHVVD.js";import"./chunk-PHJ65MTQ.js";import"./chunk-NGAVIYQ2.js";import"./chunk-DFS7RQGK.js";import"./chunk-IP3IRUG3.js";import"./chunk-YUJWRDDX.js";import"./chunk-HC6MZPB3.js";import"./chunk-PR5NG4DJ.js";import"./chunk-QOCRLRQJ.js";import"./chunk-RMJ7PCZJ.js";import"./chunk-LSZSCLUI.js";import"./chunk-T6LT6B37.js";import"./chunk-QAYK5YJO.js";import"./chunk-EZ6AITSJ.js";import"./chunk-GNOVVPTF.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-HE67GXZG.js";import"./chunk-MCRJI3T3.js";import"./chunk-BAKMWPBW.js";import"./chunk-3VVAHO66.js";import"./chunk-6MXH2XA5.js";import"./chunk-7UI5LT65.js";import"./chunk-PDVW5TD3.js";import"./chunk-WR6SSK3X.js";import"./chunk-4U6PRYVA.js";import"./chunk-ILEDPWO7.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{i as b}from"./chunk-OYAVQN5W.js";var N=(()=>{let u=class u{constructor(e,t,n,p){this.navCtrl=e,this.renderer2=t,this.zone=n,this.platform=p,this.exitEmitter=new D,this.actionEmitter=new D,this.isListing=!1,this.previousElementId="",this.entryPoint="",this.currentElementId="home",this.isConnected=!1,this.navMap=[{id:"accountInfo",down:"contact",action:"setStepPage",type:"managed",step:1},{id:"contact",up:"accountInfo",down:"help",action:"setStepPage",type:"managed",step:2},{id:"help",up:"contact",down:"privacyPolicy",action:"setStepPage",type:"managed",step:3},{id:"privacyPolicy",up:"help",down:"termsConditions",action:"setStepPage",type:"managed",step:4},{id:"termsConditions",up:"privacyPolicy",down:"restart",action:"setStepPage",type:"managed",step:5},{id:"restart",up:"termsConditions",action:"restartApp",type:"managed"}],this.backButtonPressed=!1}ngOnInit(){this.setupBackButtonHandler()}ngOnDestroy(){this.backButtonTimeout&&clearTimeout(this.backButtonTimeout)}setupBackButtonHandler(){window.handleBackButton=()=>{if(console.log("Back button pressed from Android - home page"),this.backButtonPressed){console.log("Back button already pressed, ignoring duplicate");return}this.backButtonPressed=!0,this.zone.run(()=>{this.handleKeyDown(new KeyboardEvent("keydown",{key:"Backspace"}))}),this.backButtonTimeout=setTimeout(()=>{this.backButtonPressed=!1},300)}}initSideNav(e,t,n){return b(this,null,function*(){this.isListing=!0,this.entryPoint=e,this.previousElementId=t,this.currentElement=this.findElementByStep(n),this.currentElementId=this.currentElement.id,this.zone.run(()=>{this.setActive(this.currentElementId)}),this.backButtonSub=this.platform.backButton.subscribeWithPriority(10,()=>{this.onReturn()})})}destroySideNav(){this.isListing=!1,this.previousElementId=this.currentElementId,this.setNotActive(this.currentElementId),this.entryPoint="",this.backButtonSub&&this.backButtonSub.unsubscribe()}setStepPage(){this.actionEmitter.emit(this.currentElement.step)}restartApp(){return b(this,null,function*(){this.navCtrl.navigateBack("/home").then(()=>{window.location.reload()})})}handleKeyDown(e){if(this.isListing)switch(e.key){case"ArrowUp":this.onUp();break;case"ArrowDown":this.onDown();break;case"ArrowLeft":this.onLeft();break;case"ArrowRight":this.onRight();break;case"Enter":this.onOk();break;case"Backspace":case"backButton":case"Escape":this.onReturn();break;default:console.log(`[SideNav] Unhandled key: ${e.key}`)}}onUp(){this.zone.run(()=>{if(this.currentElement.up){let e=this.currentElement.up;if(document.getElementById(e)){let n=this.findElement(e);this.setActive(e),this.setNotActive(this.currentElementId),this.currentElement=n,this.currentElementId=e,this.currentElementId!=="restart"&&this.onOk()}}})}onDown(){this.zone.run(()=>{if(this.currentElement.down){let e=this.currentElement.down;if(document.getElementById(e)){let n=this.findElement(e);this.setNotActive(this.currentElementId),this.setActive(e),this.currentElement=n,this.currentElementId=e,this.currentElementId!=="restart"&&this.onOk()}}})}onLeft(){this.exitEmitter.emit("left")}onRight(){this.exitEmitter.emit("right")}onOk(){if(this.currentElement.action){let e=this.currentElement.action;this.zone.run(()=>{typeof this[e]=="function"&&this[e]()})}}onReturn(){this.zone.run(()=>{this.navCtrl.navigateBack("/home")})}setActive(e){return b(this,null,function*(){let t=o=>new Promise(x=>setTimeout(x,o)),n=!1,p=0;do{yield t(200);let o=document.getElementById(e);o&&(this.renderer2.addClass(o,"active"),o.setAttribute("tabindex","0"),o.focus(),n=!0),p++}while(!n&&p<20)})}setNotActive(e){return b(this,null,function*(){let t=o=>new Promise(x=>setTimeout(x,o)),n=!1,p=0;do{yield t(200);let o=document.getElementById(e);o?(this.renderer2.removeClass(o,"active"),o.setAttribute("tabindex","-1"),document.activeElement===o&&o.blur(),n=!0):p++}while(!n&&p<20)})}findElement(e){for(let t of this.navMap)if(t.id===e)return t;return this.navMap[0]}findElementByStep(e){for(let t of this.navMap)if(t.step===e)return t;return this.navMap[0]}};u.\u0275fac=function(t){return new(t||u)(f(O),f(_),f(B),f(A))},u.\u0275cmp=P({type:u,selectors:[["app-sidenav"]],hostBindings:function(t,n){t&1&&w("keydown",function(o){return n.handleKeyDown(o)},!1,C)},outputs:{exitEmitter:"exitEmitter",actionEmitter:"actionEmitter"},decls:42,vars:21,consts:[["id","sidenav",1,"sidebar"],[1,"sidebar-title"],[1,"ki-filled","ki-setting-2"],[1,"nav-menu"],["id","accountInfo",1,"nav-item"],[1,"ki-filled","ki-user"],["id","contact",1,"nav-item"],[1,"ki-filled","ki-book-open"],["id","help",1,"nav-item"],[1,"ki-filled","ki-question-2"],["id","privacyPolicy",1,"nav-item"],[1,"ki-filled","ki-security-user"],["id","termsConditions",1,"nav-item"],[1,"ki-filled","ki-shield-search"],["id","restart",1,"nav-item"],[1,"ki-filled","ki-arrows-circle"]],template:function(t,n){t&1&&(i(0,"nav",0)(1,"h2",1),m(2,"i",2),l(3),c(4,"translate"),r(),i(5,"ul",3)(6,"li")(7,"button",4),m(8,"i",5),i(9,"span"),l(10),c(11,"translate"),r()()(),i(12,"li")(13,"button",6),m(14,"i",7),i(15,"span"),l(16),c(17,"translate"),r()()(),i(18,"li")(19,"button",8),m(20,"i",9),i(21,"span"),l(22),c(23,"translate"),r()()(),i(24,"li")(25,"button",10),m(26,"i",11),i(27,"span"),l(28),c(29,"translate"),r()()(),i(30,"li")(31,"button",12),m(32,"i",13),i(33,"span"),l(34),c(35,"translate"),r()()(),i(36,"li")(37,"button",14),m(38,"i",15),i(39,"span"),l(40),c(41,"translate"),r()()()()()),t&2&&(a(3),h(" ",d(4,7,"Settings")," "),a(7),g(d(11,9,"Account Info")),a(6),g(d(17,11,"Contact Us")),a(6),g(d(23,13,"Help")),a(6),g(d(29,15,"Privacy Policy")),a(6),g(d(35,17,"Terms and Conditions")),a(6),g(d(41,19,"Restart Application")))},dependencies:[M,R,T],styles:[".sidebar[_ngcontent-%COMP%]{background-color:#021024;outline:none;height:100vh;width:250px}.sidebar-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;padding:30px;display:flex;align-items:center;justify-content:center;gap:10px;outline:none}.nav-menu[_ngcontent-%COMP%]{border-top:1px solid rgba(72,161,251,.5);padding:20px 0 20px 20px;list-style:none;margin:0;display:flex;flex-direction:column;gap:.5rem;outline:none}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding:1rem;background-color:transparent;border:none;border-radius:30px 0 0 30px;font-family:inherit;font-size:.7rem;color:var(--text-color-muted);cursor:pointer;transition:background-color .2s ease,color .2s ease;text-align:left;gap:1rem;position:relative;outline:none}.nav-item.active[_ngcontent-%COMP%]{background-color:#1b2739;font-weight:500;border:1px solid #00D4FF;border-right:none;outline:none}"]});let s=u;return s})();function X(s,u){s&1&&(i(0,"div",8)(1,"div",9),m(2,"i",10),r(),i(3,"h1",11),l(4),c(5,"translate"),r(),i(6,"p",12),l(7),c(8,"translate"),r(),i(9,"button",13),l(10),c(11,"translate"),r()()),s&2&&(a(4),g(d(5,3,"Account Information")),a(3),h(" ",d(8,5,"Subscribe to watch more content, without commitment. Cancel at any time.")," "),a(3),g(d(11,7,"Subscribe")))}function Y(s,u){if(s&1&&(i(0,"div",14)(1,"div",15),m(2,"img",16),r(),i(3,"div",17)(4,"p",18),l(5),c(6,"translate"),r(),i(7,"p",19),l(8),r(),i(9,"p",18),l(10),c(11,"translate"),r(),i(12,"p",19),l(13),r()()()),s&2){let v=S(2);a(5),h("",d(6,4,"Identifier")," :"),a(3),g(v.activeUser.identifier),a(2),h("",d(11,6,"Subscription End")," :"),a(3),g(v.activeUser.subscription_end)}}function ee(s,u){if(s&1&&(k(0),i(1,"a",4),m(2,"i",5),l(3),c(4,"translate"),r(),z(5,X,12,9,"div",6)(6,Y,14,8,"div",7),I()),s&2){let v=S();a(3),h(" ",d(4,3,"Return")," "),a(2),E("ngIf",!v.isConnected),a(),E("ngIf",v.isConnected)}}function te(s,u){s&1&&(k(0),i(1,"a",4),m(2,"i",5),l(3),c(4,"translate"),r(),i(5,"div",14)(6,"div",15),m(7,"img",16),r(),i(8,"div",17)(9,"p",18),l(10),c(11,"translate"),r(),i(12,"p",19),l(13,"+216 58420201"),r(),i(14,"p",18),l(15),c(16,"translate"),r(),i(17,"p",19),l(18,"tunisie.ott@gmail.com"),r()()(),I()),s&2&&(a(3),h(" ",d(4,3,"Return")," "),a(7),h("",d(11,5,"Phone Number")," :"),a(5),h("",d(16,7,"Email")," :"))}function ne(s,u){if(s&1&&(k(0),i(1,"a",4),m(2,"i",5),l(3),c(4,"translate"),r(),i(5,"div",8)(6,"div",15),m(7,"img",16),r(),i(8,"p",12),l(9),c(10,"translate"),r(),m(11,"qrcode",20),r(),I()),s&2){let v=S();a(3),h(" ",d(4,5,"Return")," "),a(6),h(" ",d(10,7,"Use the phone or tablet camera and point it at this QR code")," "),a(2),E("qrdata",v.qrDataString)("width",150)("errorCorrectionLevel","M")}}function ie(s,u){if(s&1&&(k(0),i(1,"a",4),m(2,"i",5),l(3),c(4,"translate"),r(),i(5,"div",8)(6,"div",15),m(7,"img",16),r(),i(8,"p",12),l(9),c(10,"translate"),r(),m(11,"qrcode",20),r(),I()),s&2){let v=S();a(3),h(" ",d(4,5,"Return")," "),a(6),h(" ",d(10,7,"Use the phone or tablet camera and point it at this QR code")," "),a(2),E("qrdata",v.qrDataString)("width",150)("errorCorrectionLevel","M")}}function re(s,u){if(s&1&&(k(0),i(1,"a",4),m(2,"i",5),l(3),c(4,"translate"),r(),i(5,"div",8)(6,"div",15),m(7,"img",16),r(),i(8,"p",12),l(9),c(10,"translate"),r(),m(11,"qrcode",20),r(),I()),s&2){let v=S();a(3),h(" ",d(4,5,"Return")," "),a(6),h(" ",d(10,7,"Use the phone or tablet camera and point it at this QR code")," "),a(2),E("qrdata",v.qrDataString)("width",150)("errorCorrectionLevel","M")}}var Ie=(()=>{let u=class u{constructor(e,t,n,p,o,x){this.navCtrl=e,this.zone=t,this.renderer2=n,this.router=p,this.platform=o,this.authService=x,this.BASEURI=F.FRONT_APP_URI,this.islistening=!1,this.isConnected=!1,this.activeUser=null,this.currentElementId="hero",this.qrData="data",this.step=1,this.navMap=[{id:"sidenav",type:"self"},{id:"authButton",left:"sidenav",action:"navToAuth",type:"managed"}],this.backButtonPressed=!1,this.initGlobalInfo()}ngOnInit(){this.setupBackButtonHandler()}ngOnDestroy(){this.backButtonTimeout&&clearTimeout(this.backButtonTimeout)}setupBackButtonHandler(){window.handleBackButton=()=>{if(console.log("Back button pressed from Android - home page"),this.backButtonPressed){console.log("Back button already pressed, ignoring duplicate");return}this.backButtonPressed=!0,this.zone.run(()=>{this.handleKeyDown(new KeyboardEvent("keydown",{key:"Backspace"}))}),this.backButtonTimeout=setTimeout(()=>{this.backButtonPressed=!1},300)}}ionViewDidEnter(){this.backButtonSub=this.platform.backButton.subscribeWithPriority(10,()=>{this.onReturn()}),this.islistening=!0,this.initNavStart()}ionViewDidLeave(){this.backButtonSub&&this.backButtonSub.unsubscribe(),this.islistening=!1}initNavStart(){this.currentElement=this.navMap[0],this.currentElementId=this.currentElement.id,this.setActive(this.currentElementId,"open",this.currentElement.id)}initGlobalInfo(){return b(this,null,function*(){this.isConnected=yield this.authService.isLoggedIn(),this.activeUser=yield this.authService.getUserInformation()})}get qrDataString(){switch(this.step){case 1:return"";case 2:return"";case 3:return"https://wa.me/+21699999999";case 4:return this.BASEURI+"/politiqueEtConfidentialit\xE9";case 5:return this.BASEURI+"/conditionsG\xE9n\xE9rales";default:return""}}navToAuth(){this.zone.run(()=>{this.navCtrl.navigateBack("/authentication")})}actionSidenavEmitter(e){this.step=e}onSidenavExit(e){e==="right"&&this.rightClick()}handleKeyDown(e){if(this.islistening&&this.currentElement.type!=="self")switch(e.key){case"ArrowUp":this.onUp();break;case"ArrowDown":this.onDown();break;case"ArrowLeft":this.onLeft();break;case"ArrowRight":this.onRight();break;case"Enter":this.onOk();break;case"Backspace":case"backButton":case"Escape":this.onReturn();break;default:console.log(`[settings] Unhandled key: ${e.key}`)}}onUp(){this.zone.run(()=>{if(this.currentElement.up){let e=this.currentElement.up;if(document.getElementById(e)){let n=this.findElement(e);this.setNotActive(this.currentElementId),this.setActive(e,"up",this.currentElement.id),this.currentElement=n,this.currentElementId=e}}})}onDown(){this.zone.run(()=>{if(this.currentElement.down){let e=this.currentElement.down;if(document.getElementById(e)){let n=this.findElement(e);this.setNotActive(this.currentElementId),this.setActive(e,"down",this.currentElement.id),this.currentElement=n,this.currentElementId=e}}})}onLeft(){this.zone.run(()=>{if(this.currentElement.left){let e=this.currentElement.left;if(document.getElementById(e)){let n=this.findElement(e);this.setNotActive(this.currentElementId),this.setActive(e,"left",this.currentElement.id),this.currentElement=n,this.currentElementId=e}}})}rightClick(){this.zone.run(()=>{this.step===1&&!this.isConnected&&(this.sidenavComponent.destroySideNav(),this.setActive(this.navMap[1].id,"left",this.currentElement.id),this.currentElement=this.navMap[1],this.currentElementId=this.currentElement.id)})}onRight(){this.zone.run(()=>{if(this.currentElement.right){let e=this.currentElement.right;if(document.getElementById(e)){let n=this.findElement(e);this.setNotActive(this.currentElementId),this.setActive(e,"right",this.currentElement.id),this.currentElement=n,this.currentElementId=e}}})}onOk(){if(this.currentElement.action){let e=this.currentElement.action;this.zone.run(()=>{typeof this[e]=="function"&&this[e]()})}}onReturn(){this.zone.run(()=>{this.navCtrl.navigateBack("/home")})}setActive(e,t,n){return b(this,null,function*(){let p=y=>new Promise(W=>setTimeout(W,y)),o=!1,x=0;do{if(yield p(200),e==="sidenav")this.sidenavComponent&&(this.sidenavComponent.initSideNav(t,n,this.step),o=!0);else{let y=document.getElementById(e);y&&(this.renderer2.addClass(y,"active"),y.setAttribute("tabindex","0"),y.focus(),o=!0)}x++}while(!o&&x<20)})}setNotActive(e){return b(this,null,function*(){let t=o=>new Promise(x=>setTimeout(x,o)),n=!1,p=0;do{yield t(200);let o=document.getElementById(e);o?(this.renderer2.removeClass(o,"active"),o.setAttribute("tabindex","-1"),document.activeElement===o&&o.blur(),n=!0):p++}while(!n&&p<20)})}findElement(e){for(let t of this.navMap)if(t.id===e)return t;return this.navMap[0]}};u.\u0275fac=function(t){return new(t||u)(f(O),f(B),f(_),f(H),f(A),f(G))},u.\u0275cmp=P({type:u,selectors:[["app-settings"]],viewQuery:function(t,n){if(t&1&&U(N,5),t&2){let p;L(p=j())&&(n.sidenavComponent=p.first)}},hostBindings:function(t,n){t&1&&w("keydown",function(o){return n.handleKeyDown(o)},!1,C)},decls:9,vars:5,consts:[[1,"settings-container"],["id","sideNav","tabindex","-1",3,"actionEmitter","exitEmitter"],[1,"main-content"],[4,"ngIf"],[1,"back-link"],[1,"ki-filled","ki-arrow-left"],["class","content-panel",4,"ngIf"],["class","full-content-panel",4,"ngIf"],[1,"content-panel"],[1,"main-icon"],[1,"ki-filled","ki-user"],[1,"content-title"],[1,"content-description"],["id","authButton","tabindex","-1",1,"cta-button"],[1,"full-content-panel"],[1,"logo"],["src","assets/img/ds-full.png","alt","","width","150px"],[1,"info-container"],[1,"info-label"],[1,"info-data"],[3,"qrdata","width","errorCorrectionLevel"]],template:function(t,n){t&1&&(i(0,"ion-content")(1,"div",0)(2,"app-sidenav",1),w("actionEmitter",function(o){return n.actionSidenavEmitter(o)})("exitEmitter",function(o){return n.onSidenavExit(o)}),r(),i(3,"main",2),z(4,ee,7,5,"ng-container",3)(5,te,19,9,"ng-container",3)(6,ne,12,9,"ng-container",3)(7,ie,12,9,"ng-container",3)(8,re,12,9,"ng-container",3),r()()()),t&2&&(a(4),E("ngIf",n.step===1),a(),E("ngIf",n.step===2),a(),E("ngIf",n.step===3),a(),E("ngIf",n.step===4),a(),E("ngIf",n.step===5))},dependencies:[Q,M,q,K,N,V,R,T],styles:[".settings-container[_ngcontent-%COMP%]{display:flex;height:100vh;color:var(--text-color);font-family:var(--font-family);overflow:hidden;background:linear-gradient(106.23deg,#083d8a0a -41.89%,#031a3af0 1.41%,#04234eb6 67.28%,#083d8a0a 126.74%);outline:none}.main-content[_ngcontent-%COMP%]{flex-grow:1;padding:2rem 3rem;display:flex;flex-direction:column;outline:none}.back-link[_ngcontent-%COMP%]{align-self:flex-end;color:var(--text-color-muted);text-decoration:none;font-size:.9rem;display:flex;align-items:center;gap:.5rem;transition:color .2s ease;outline:none}.content-panel[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;outline:none}.main-icon[_ngcontent-%COMP%]{font-size:3rem;color:var(--cta-button-bg);margin-bottom:1.5rem;background-color:#1c62ff1a;border-radius:50%;width:100px;height:100px;display:flex;justify-content:center;align-items:center;outline:none}.content-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;margin-bottom:.75rem;outline:none}.content-description[_ngcontent-%COMP%]{color:#cacaca;font-size:1rem;line-height:1.6;max-width:400px;margin-bottom:2rem;outline:none}.cta-button[_ngcontent-%COMP%]{background-color:transparent;border:1px solid white;padding:.8rem 2.5rem;border-radius:50px;font-family:inherit;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .2s ease,color .2s ease;outline:none;color:#fff}.cta-button.active[_ngcontent-%COMP%]{background-color:#0a1b32;color:#fff;border:1px solid #00d4ff!important;outline:none}.full-content-panel[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;outline:none}.logo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:2rem}.info-container[_ngcontent-%COMP%]{display:grid;gap:1rem;max-width:100%}.info-label[_ngcontent-%COMP%]{grid-column:4/span 2;font-weight:700}.info-data[_ngcontent-%COMP%]{grid-column:6/span 6}.language-selector-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:600;color:#fff;margin-top:0;margin-bottom:30px}.language-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;flex-wrap:wrap}.lang-btn[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #5a637c;color:#d4d7dc;padding:14px 32px;font-size:16px;border-radius:50px;cursor:pointer;font-family:inherit;font-weight:500;transition:background-color .3s ease,color .3s ease,border-color .3s ease}.lang-btn[_ngcontent-%COMP%]:hover{border-color:#fff;color:#fff}.lang-btn.active[_ngcontent-%COMP%]{background-color:#fff;color:#0a1428;border-color:#fff}"]});let s=u;return s})();export{Ie as SettingsPage};
