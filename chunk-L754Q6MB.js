import{a as b}from"./chunk-MX4CBZPA.js";import{c as A}from"./chunk-26SYI5YV.js";import"./chunk-YV6SONE4.js";import"./chunk-2BJLPANP.js";import"./chunk-5GVKMHBT.js";import"./chunk-S2XR63X6.js";import{c as T,d as D}from"./chunk-36TWDYNZ.js";import{$ as c,Aa as p,Eb as _,G as v,Ja as P,K as x,L as d,M as k,N as u,P as B,Ta as M,aa as l,ba as w,ga as E,oa as I,pa as C,qa as S,ra as m,ta as h,za as f}from"./chunk-4YXWHVVD.js";import"./chunk-PHJ65MTQ.js";import"./chunk-NGAVIYQ2.js";import"./chunk-DFS7RQGK.js";import"./chunk-IP3IRUG3.js";import"./chunk-YUJWRDDX.js";import"./chunk-HC6MZPB3.js";import"./chunk-PR5NG4DJ.js";import"./chunk-QOCRLRQJ.js";import"./chunk-RMJ7PCZJ.js";import"./chunk-LSZSCLUI.js";import"./chunk-T6LT6B37.js";import"./chunk-QAYK5YJO.js";import"./chunk-EZ6AITSJ.js";import"./chunk-GNOVVPTF.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-HE67GXZG.js";import"./chunk-MCRJI3T3.js";import"./chunk-BAKMWPBW.js";import"./chunk-3VVAHO66.js";import"./chunk-6MXH2XA5.js";import"./chunk-7UI5LT65.js";import"./chunk-PDVW5TD3.js";import"./chunk-WR6SSK3X.js";import"./chunk-4U6PRYVA.js";import"./chunk-ILEDPWO7.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{i as y}from"./chunk-OYAVQN5W.js";var U=(()=>{let a=class a{constructor(e,t,n){this.zone=e,this.router=t,this.renderer2=n,this.islistening=!1,this.currentElementId="hero",this.navMap=[{id:"content",left:"sidebar",type:"managed"},{id:"sidebar",type:"self"}],this.backButtonPressed=!1}ngOnInit(){this.setupBackButtonHandler()}ngOnDestroy(){this.backButtonTimeout&&clearTimeout(this.backButtonTimeout)}setupBackButtonHandler(){window.handleBackButton=()=>{if(console.log("Back button pressed from Android - home page"),this.backButtonPressed){console.log("Back button already pressed, ignoring duplicate");return}this.backButtonPressed=!0,this.zone.run(()=>{this.handleKeyDown(new KeyboardEvent("keydown",{key:"Backspace"}))}),this.backButtonTimeout=setTimeout(()=>{this.backButtonPressed=!1},300)}}ionViewDidEnter(){this.islistening=!0,this.initNavStart(),this.currentRoute=this.router.url.substring(1)}ionViewDidLeave(){this.currentElement=null,this.currentElementId="content",this.islistening=!1,this.destroyNav()}initNavStart(){this.currentElement=this.navMap[0],this.currentElementId=this.currentElement.id,this.setActive(this.currentElementId,"open",this.currentElementId)}destroyNav(){this.setNotActive(this.currentElementId)}onSideBarExit(e){this.zone.run(()=>{if(e[0]==="right"){let t="content";if(document.getElementById(t)){let i=this.findElement(t);this.sidebarComponent.destroySidebar(),this.setActive(t,"left",this.currentElement.id),this.currentElement=i,this.currentElementId=t}}e[0]==="ok"&&(e[1]===this.currentRoute&&this.initNavStart(),this.sidebarComponent.destroySidebar())})}handleKeyDown(e){if(this.islistening&&this.currentElement.type!=="self")switch(e.key){case"ArrowUp":break;case"ArrowDown":break;case"ArrowLeft":this.onLeft();break;case"ArrowRight":break;case"Enter":break;case"Backspace":case"backButton":case"Escape":this.onReturn();break;default:console.log(`[SearchPage] Unhandled key: ${e.key}`)}}onLeft(){this.zone.run(()=>{if(this.currentElement.left){let e=this.currentElement.left;if(document.getElementById(e)){let n=this.findElement(e);this.setNotActive(this.currentElementId,e),this.setActive(e,"right",this.currentElement.id),this.currentElement=n,this.currentElementId=e}}})}onReturn(){this.zone.run(()=>{this.router.navigateByUrl("/home")})}setActive(e,t,n){return y(this,null,function*(){let i=s=>new Promise(N=>setTimeout(N,s)),r=!1,o=0;do{if(yield i(200),e==="sidebar")this.sidebarComponent&&(this.sidebarComponent.initSidebar(t,n),r=!0);else{let s=document.getElementById(e);s&&(this.renderer2.addClass(s,"active"),s.setAttribute("tabindex","0"),s.focus(),r=!0)}o++}while(!r&&o<20)})}setNotActive(e,t){return y(this,null,function*(){let n=o=>new Promise(s=>setTimeout(s,o)),i=!1,r=0;do{yield n(200);let o=document.getElementById(e);o?(this.renderer2.removeClass(o,"active"),o.setAttribute("tabindex","-1"),document.activeElement===o&&o.blur(),i=!0):r++}while(!i&&r<20)})}findElement(e){for(let t of this.navMap)if(t.id===e)return t;return this.navMap[0]}};a.\u0275fac=function(t){return new(t||a)(u(v),u(M),u(k))},a.\u0275cmp=B({type:a,selectors:[["app-search"]],viewQuery:function(t,n){if(t&1&&I(b,5),t&2){let i;C(i=S())&&(n.sidebarComponent=i.first)}},hostBindings:function(t,n){t&1&&E("keydown",function(r){return n.handleKeyDown(r)},!1,x)},decls:14,vars:9,consts:[[1,"page-body"],[1,"page-title"],[1,"ki-filled","ki-notification"],["id","sidebar","tabindex","-1",3,"exitEmitter"],["id","content",1,"coming-soon-container"],[1,"coming-soon-message"],[1,"coming-soon-details"]],template:function(t,n){t&1&&(c(0,"ion-content")(1,"div",0)(2,"p",1),w(3,"i",2),m(4),f(5,"translate"),l(),c(6,"app-sidebar",3),E("exitEmitter",function(r){return n.onSideBarExit(r)}),l(),c(7,"div",4)(8,"p",5),m(9),f(10,"translate"),l(),c(11,"p",6),m(12),f(13,"translate"),l()()()()),t&2&&(d(4),h(" ",p(5,3,"Coming Soon"),""),d(5),h(" ",p(10,5,"We are currently working on this feature to offer you a better experience.")," "),d(3),h(" ",p(13,7,"This section will be available very soon. Thank you for your patience and understanding.")," "))},dependencies:[A,P,_,b,D,T],styles:["p[_ngcontent-%COMP%]{margin:0;outline:none}.page-body[_ngcontent-%COMP%]{padding:50px;display:flex;justify-content:center;align-items:center;flex-direction:column;background:radial-gradient(circle at top,#4a90e280,#4a90e24d 24%,#4a90e221 63%);height:100vh;outline:none}.page-title[_ngcontent-%COMP%]{margin:0 0 50px;font-size:40px;color:#fff;font-weight:700;text-align:center;outline:none}.coming-soon-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:30px;padding:0 20px;outline:none}.coming-soon-message[_ngcontent-%COMP%]{font-size:30px;color:#fff;text-align:center;line-height:1.5;outline:none}.coming-soon-details[_ngcontent-%COMP%]{font-size:18px;color:#fffc;text-align:center;line-height:1.4;outline:none}"]});let g=a;return g})();export{U as SearchPage};
