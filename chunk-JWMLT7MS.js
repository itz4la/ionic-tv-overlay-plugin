import{a as p}from"./chunk-MX4CBZPA.js";import{c as M}from"./chunk-26SYI5YV.js";import"./chunk-YV6SONE4.js";import"./chunk-2BJLPANP.js";import"./chunk-5GVKMHBT.js";import"./chunk-S2XR63X6.js";import"./chunk-36TWDYNZ.js";import{$ as c,Eb as I,G as g,Ja as B,K as y,M as E,N as d,P as b,Ta as C,aa as l,ba as v,ga as f,oa as x,pa as k,qa as w,ra as u}from"./chunk-4YXWHVVD.js";import"./chunk-PHJ65MTQ.js";import"./chunk-NGAVIYQ2.js";import"./chunk-DFS7RQGK.js";import"./chunk-IP3IRUG3.js";import"./chunk-YUJWRDDX.js";import"./chunk-HC6MZPB3.js";import"./chunk-PR5NG4DJ.js";import"./chunk-QOCRLRQJ.js";import"./chunk-RMJ7PCZJ.js";import"./chunk-LSZSCLUI.js";import"./chunk-T6LT6B37.js";import"./chunk-QAYK5YJO.js";import"./chunk-EZ6AITSJ.js";import"./chunk-GNOVVPTF.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-HE67GXZG.js";import"./chunk-MCRJI3T3.js";import"./chunk-BAKMWPBW.js";import"./chunk-3VVAHO66.js";import"./chunk-6MXH2XA5.js";import"./chunk-7UI5LT65.js";import"./chunk-PDVW5TD3.js";import"./chunk-WR6SSK3X.js";import"./chunk-4U6PRYVA.js";import"./chunk-ILEDPWO7.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{i as h}from"./chunk-OYAVQN5W.js";var N=(()=>{let a=class a{constructor(e,t,n){this.zone=e,this.router=t,this.renderer2=n,this.islistening=!1,this.currentElementId="hero",this.navMap=[{id:"content",left:"sidebar",type:"managed"},{id:"sidebar",type:"self"}],this.backButtonPressed=!1}ngOnInit(){this.setupBackButtonHandler()}ngOnDestroy(){this.backButtonTimeout&&clearTimeout(this.backButtonTimeout)}setupBackButtonHandler(){window.handleBackButton=()=>{if(console.log("Back button pressed from Android - home page"),this.backButtonPressed){console.log("Back button already pressed, ignoring duplicate");return}this.backButtonPressed=!0,this.zone.run(()=>{this.handleKeyDown(new KeyboardEvent("keydown",{key:"Backspace"}))}),this.backButtonTimeout=setTimeout(()=>{this.backButtonPressed=!1},300)}}ionViewDidEnter(){this.islistening=!0,this.initNavStart(),this.currentRoute=this.router.url.substring(1)}initNavStart(){this.currentElement=this.navMap[0],this.currentElementId=this.currentElement.id,this.setActive(this.currentElementId,"open",this.currentElementId)}ionViewDidLeave(){this.currentElement=null,this.currentElementId="content",this.islistening=!1,this.destroyNav()}destroyNav(){this.setNotActive(this.currentElementId)}onSideBarExit(e){this.zone.run(()=>{if(e[0]==="right"){let t="content";if(document.getElementById(t)){let i=this.findElement(t);this.sidebarComponent.destroySidebar(),this.setActive(t,"left",this.currentElement.id),this.currentElement=i,this.currentElementId=t}}e[0]==="ok"&&(e[1]===this.currentRoute&&this.initNavStart(),this.sidebarComponent.destroySidebar())})}handleKeyDown(e){if(this.islistening&&this.currentElement.type!=="self")switch(e.key){case"ArrowUp":break;case"ArrowDown":break;case"ArrowLeft":this.onLeft();break;case"ArrowRight":break;case"Enter":break;case"Backspace":case"backButton":case"Escape":this.onReturn();break;default:console.log(`[myListe] Unhandled key: ${e.key}`)}}onLeft(){this.zone.run(()=>{if(this.currentElement.left){let e=this.currentElement.left;if(document.getElementById(e)){let n=this.findElement(e);this.setNotActive(this.currentElementId,e),this.setActive(e,"right",this.currentElement.id),this.currentElement=n,this.currentElementId=e}}})}onReturn(){this.zone.run(()=>{this.router.navigateByUrl("/home")})}setActive(e,t,n){return h(this,null,function*(){let i=s=>new Promise(P=>setTimeout(P,s)),o=!1,r=0;do{if(yield i(200),e==="sidebar")this.sidebarComponent&&(this.sidebarComponent.initSidebar(t,n),o=!0);else{let s=document.getElementById(e);s&&(this.renderer2.addClass(s,"active"),s.setAttribute("tabindex","0"),s.focus(),o=!0)}r++}while(!o&&r<20)})}setNotActive(e,t){return h(this,null,function*(){let n=r=>new Promise(s=>setTimeout(s,r)),i=!1,o=0;do{yield n(200);let r=document.getElementById(e);r?(this.renderer2.removeClass(r,"active"),r.setAttribute("tabindex","-1"),document.activeElement===r&&r.blur(),i=!0):o++}while(!i&&o<20)})}findElement(e){for(let t of this.navMap)if(t.id===e)return t;return this.navMap[0]}};a.\u0275fac=function(t){return new(t||a)(d(g),d(C),d(E))},a.\u0275cmp=b({type:a,selectors:[["app-my-liste"]],viewQuery:function(t,n){if(t&1&&x(p,5),t&2){let i;k(i=w())&&(n.sidebarComponent=i.first)}},hostBindings:function(t,n){t&1&&f("keydown",function(o){return n.handleKeyDown(o)},!1,y)},decls:11,vars:0,consts:[[1,"page-body"],[1,"page-title"],[1,"ki-filled","ki-notification"],["id","sidebar","tabindex","-1",3,"exitEmitter"],["id","content",1,"coming-soon-container"],[1,"coming-soon-message"],[1,"coming-soon-details"]],template:function(t,n){t&1&&(c(0,"ion-content")(1,"div",0)(2,"p",1),v(3,"i",2),u(4," Coming Soon"),l(),c(5,"app-sidebar",3),f("exitEmitter",function(o){return n.onSideBarExit(o)}),l(),c(6,"div",4)(7,"p",5),u(8," We are currently working on this feature to offer you a better experience. "),l(),c(9,"p",6),u(10," This section will be available very soon. Thank you for your patience and understanding. "),l()()()())},dependencies:[M,B,I,p],styles:["p[_ngcontent-%COMP%]{margin:0;outline:none}.page-body[_ngcontent-%COMP%]{padding:50px;display:flex;justify-content:center;align-items:center;flex-direction:column;background:radial-gradient(circle at top,#4a90e280,#4a90e24d 24%,#4a90e221 63%);height:100vh;outline:none}.page-title[_ngcontent-%COMP%]{margin:0 0 50px;font-size:40px;color:#fff;font-weight:700;text-align:center;outline:none}.coming-soon-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:30px;padding:0 20px;outline:none}.coming-soon-message[_ngcontent-%COMP%]{font-size:30px;color:#fff;text-align:center;line-height:1.5;outline:none}.coming-soon-details[_ngcontent-%COMP%]{font-size:18px;color:#fffc;text-align:center;line-height:1.4;outline:none}"]});let m=a;return m})();export{N as MyListePage};
