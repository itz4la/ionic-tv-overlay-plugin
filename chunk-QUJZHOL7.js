import{a as $}from"./chunk-MX4CBZPA.js";import{d as ae}from"./chunk-26SYI5YV.js";import"./chunk-YV6SONE4.js";import{b as me}from"./chunk-2BJLPANP.js";import{a as le,b as ce,c as de,d as pe,e as he}from"./chunk-5GVKMHBT.js";import{d as H}from"./chunk-S2XR63X6.js";import{b as K,c as Q,d as q}from"./chunk-36TWDYNZ.js";import{$ as d,A as f,Aa as S,B as y,F as z,Fa as U,G as L,Ga as R,Ha as oe,Hb as se,J as I,Ja as A,K as N,L as l,M as F,N as v,P as V,Ta as re,U as _,X as p,Y as ne,Z as T,aa as c,ba as x,ca as Y,da as j,fa as M,ga as E,ha as h,ka as ie,oa as w,pa as C,qa as b,ra as g,sa as P,ta as B,ya as W,z as D,za as k}from"./chunk-4YXWHVVD.js";import"./chunk-PHJ65MTQ.js";import"./chunk-NGAVIYQ2.js";import"./chunk-DFS7RQGK.js";import"./chunk-IP3IRUG3.js";import"./chunk-YUJWRDDX.js";import"./chunk-HC6MZPB3.js";import"./chunk-PR5NG4DJ.js";import"./chunk-QOCRLRQJ.js";import"./chunk-RMJ7PCZJ.js";import"./chunk-LSZSCLUI.js";import"./chunk-T6LT6B37.js";import"./chunk-QAYK5YJO.js";import"./chunk-EZ6AITSJ.js";import"./chunk-GNOVVPTF.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-HE67GXZG.js";import"./chunk-MCRJI3T3.js";import"./chunk-BAKMWPBW.js";import"./chunk-3VVAHO66.js";import"./chunk-6MXH2XA5.js";import"./chunk-7UI5LT65.js";import"./chunk-PDVW5TD3.js";import"./chunk-WR6SSK3X.js";import"./chunk-4U6PRYVA.js";import"./chunk-ILEDPWO7.js";import"./chunk-JWIEPCRG.js";import"./chunk-C5RQ2IC2.js";import"./chunk-D4VGNZLR.js";import"./chunk-JHLW7V75.js";import"./chunk-SV7S5NYR.js";import{i as u}from"./chunk-OYAVQN5W.js";var ye=["videoPlayer"],ve=["scrollContainer"],_e=["horizontalGradient"],xe=["verticalGradient"],we=["scrollItems"],Ce=r=>({right:r}),be=r=>({left:r});function Pe(r,a){if(r&1){let o=M();d(0,"img",13),E("load",function(){f(o);let t=h();return y(t.onImageLoad())}),c()}if(r&2){let o=h();p("src",o.banners[o.displayIndex].img,I)}}function Ee(r,a){if(r&1){let o=M();d(0,"video",14,2),E("canplay",function(){f(o);let t=h();return y(t.onVideoReady())})("playing",function(){f(o);let t=h();return y(t.onVideoPlaying())})("ended",function(){f(o);let t=h();return y(t.onVideoEnded())}),c()}if(r&2){let o=h();ne("display",o.videoReady?"block":"none"),p("src",o.videoReady&&o.banners[o.displayIndex].video?o.banners[o.displayIndex].video:"",I)}}function Oe(r,a){if(r&1&&(d(0,"div",24),g(1),k(2,"translate"),c()),r&2){let o=h(2);p("ngStyle",o.lang==="ar"?W(4,Ce,o.progress*100+"%"):W(6,be,o.progress*100+"%")),l(),B(" ",S(2,2,"Now")," ")}}function Me(r,a){if(r&1&&(d(0,"div",15)(1,"button",16)(2,"span"),x(3,"i",17),c(),g(4),k(5,"translate"),c(),d(6,"p",18),g(7),c(),d(8,"p",19),g(9),c(),d(10,"div",20),x(11,"ion-progress-bar",21),d(12,"p",22),g(13),c(),_(14,Oe,3,8,"div",23),c()()),r&2){let o=h();l(4),B(" ",S(5,6,"Live")," "),l(3),P(o.banners[o.displayIndex].channel.label),l(2),P(o.banners[o.displayIndex].label),l(2),p("value",o.progress),l(2),P(o.banners[o.displayIndex].startTime+" - "+o.banners[o.displayIndex].endTime),l(),p("ngIf",o.progress>=0&&o.progress<=1)}}function Ie(r,a){if(r&1&&(d(0,"div",15)(1,"p",18),g(2),c(),d(3,"p",19),g(4),c(),d(5,"p",22),g(6),c(),d(7,"button",25)(8,"span"),x(9,"i",26),c(),g(10),k(11,"translate"),c()()),r&2){let o=h();l(2),P(o.banners[o.displayIndex].channel.label),l(2),P(o.banners[o.displayIndex].label),l(2),P(o.translatedDescriptionBanner(o.banners[o.displayIndex])),l(4),B(" ",S(11,4,"Play")," ")}}function Te(r,a){r&1&&x(0,"div",32)}function ke(r,a){if(r&1){let o=M();d(0,"div",29,4)(2,"img",30),E("load",function(){f(o);let t=h(2);return y(t.onImageLoad())}),c(),_(3,Te,1,0,"div",31),c()}if(r&2){let o=a.$implicit,e=a.index,t=h(2);l(2),T("current-img",e===t.displayIndex),p("src",o.channel.logo,I),l(),p("ngIf",e===t.displayIndex)}}function Se(r,a){if(r&1&&(d(0,"div",27,3),_(2,ke,4,4,"div",28),c()),r&2){let o=h();T("center-content",o.banners.length<=3),l(2),p("ngForOf",o.banners)}}var ee=(()=>{let a=class a{constructor(e,t,n,i){this.zone=e,this.storageService=t,this.renderer2=n,this.translate=i,this.banners=[],this.loadedImageEmitter=new z,this.exitEmitter=new z,this.actionEmitter=new z,this.isListing=!1,this.previousElementId="",this.entryPoint="",this.currentId="banner-card-0",this.lang="fr",this.displayIndex=0,this.videoReady=!1,this.loaderVideoEnded=!1,this.imagesLoaded=0,this.totalImages=0,this.isLoading=!1,this.progress=0,this.playTimeout=null,this.playingTimeout=null,this.backButtonPressed=!1,this.keyPressTimestamps=new Map,this.KEY_THROTTLE_TIME=150}ngOnInit(){return u(this,null,function*(){this.lang=yield this.storageService.get("lang"),this.translate.onLangChange.subscribe(e=>{this.lang=e.lang}),this.applyGradient(),this.loadVideo(),this.updateProgress(),this.interval=setInterval(()=>{this.updateProgress()},6e4),this.setupBackButtonHandler()})}ngOnDestroy(){if(this.isListing=!1,clearInterval(this.interval),this.stopVideo(),this.videoPlayer&&this.videoPlayer.nativeElement){let e=this.videoPlayer.nativeElement;e.oncanplay=null,e.onplaying=null,e.onended=null,e.onerror=null,e.onloadeddata=null}this.playTimeout&&(clearTimeout(this.playTimeout),this.playTimeout=null),this.playingTimeout&&(clearTimeout(this.playingTimeout),this.playingTimeout=null)}setupBackButtonHandler(){window.handleBackButton=()=>{if(console.log("Back button pressed from Android - home page"),this.backButtonPressed){console.log("Back button already pressed, ignoring duplicate");return}this.backButtonPressed=!0,this.zone.run(()=>{this.handleKeyDown(new KeyboardEvent("keydown",{key:"Backspace"}))}),this.backButtonTimeout=setTimeout(()=>{this.backButtonPressed=!1},300)}}ngOnChanges(e){this.zone.run(()=>{e.step&&e.step.firstChange})}initHero(e,t){return u(this,null,function*(){this.stopVideo(),this.isListing=!0,this.entryPoint=e,this.setActive(this.currentId)})}destroyHero(){return u(this,null,function*(){if(this.isListing=!1,this.previousElementId=this.currentId,this.setActive(this.currentId),this.videoReady=!1,this.videoPlayer&&this.videoPlayer.nativeElement)try{let e=this.videoPlayer.nativeElement;e.paused||e.pause(),e.currentTime=0,e.muted=!0,e.removeAttribute("src"),e.load(),e.oncanplay=null,e.onplaying=null,e.onended=null}catch(e){console.error("Error cleaning up video element:",e)}this.playTimeout&&(clearTimeout(this.playTimeout),this.playTimeout=null),this.playingTimeout&&(clearTimeout(this.playingTimeout),this.playingTimeout=null)})}translatedDescriptionBanner(e){if(this.lang==="fr")return e.description;if(this.lang==="en"||this.lang==="ar"){let t="";return e.bannerTranslations&&e.bannerTranslations.length!==0?e.bannerTranslations.forEach(n=>{n.lang===this.lang&&(t=n.description)}):t=e.description,t}else return e.description}loadVideo(){this.isListing&&(this.videoReady=!1,this.playTimeout&&(clearTimeout(this.playTimeout),this.playTimeout=null),this.playingTimeout&&(clearTimeout(this.playingTimeout),this.playingTimeout=null),this.step===1&&setTimeout(()=>{this.isListing&&this.loadVideowithPlay()},100))}loadVideowithPlay(){if(this.videoReady=!1,this.playTimeout&&clearTimeout(this.playTimeout),!!this.isListing){try{if(this.videoPlayer&&this.videoPlayer.nativeElement){let e=this.videoPlayer.nativeElement,t=this.banners[this.displayIndex];e.paused||e.pause(),e.currentTime=0,e.muted=!0,e.removeAttribute("src"),e.load(),setTimeout(()=>{this.isListing&&t&&t.video&&(e.setAttribute("src",t.video),e.load())},50)}}catch(e){console.error("Error loading video with play:",e)}this.playTimeout=setTimeout(()=>{this.videoReady=!0,this.startvideo()},2e3)}}onVideoReady(){return u(this,null,function*(){if(!this.videoPlayer){console.error("Video player element not found");return}let e=this.videoPlayer.nativeElement,t=yield this.storageService.get("displayed_animation");if(this.step===1){this.videoReady=!0,e.muted=!1;try{let n=e.play();n!==void 0&&n.catch(i=>{console.log("Autoplay prevented:",i),this.videoReady=!1})}catch(n){console.error("Error playing video:",n),this.videoReady=!1}}})}onVideoPlaying(){this.playingTimeout&&(clearTimeout(this.playingTimeout),this.playingTimeout=null),this.isListing&&this.step===1&&(this.videoReady=!0,this.playingTimeout=setTimeout(()=>{if(this.videoPlayer&&this.videoPlayer.nativeElement)try{let e=this.videoPlayer.nativeElement;e.muted=!1}catch(e){console.error("Error unmuting video:",e)}this.playingTimeout=null},200))}onVideoEnded(){if(this.videoPlayer&&this.videoPlayer.nativeElement)try{let e=this.videoPlayer.nativeElement;e.pause(),e.currentTime=0,e.muted=!0}catch(e){console.error("Error stopping video on end:",e)}this.videoReady=!1,this.displayIndex<this.banners.length-1?this.displayIndex++:this.displayIndex=0,this.currentId="banner-card-"+this.displayIndex,this.playTimeout&&(clearTimeout(this.playTimeout),this.playTimeout=null),this.playingTimeout&&(clearTimeout(this.playingTimeout),this.playingTimeout=null),this.isListing&&(this.playTimeout=setTimeout(()=>{this.isListing&&this.loadVideo()},100))}nextVideo(){if(this.displayIndex<this.banners.length-1?this.displayIndex++:this.displayIndex=0,this.videoReady=!1,this.videoPlayer&&this.videoPlayer.nativeElement){let e=this.videoPlayer.nativeElement;e.pause(),e.currentTime=0}this.playTimeout&&(clearTimeout(this.playTimeout),this.playTimeout=null),this.playingTimeout&&(clearTimeout(this.playingTimeout),this.playingTimeout=null),setTimeout(()=>{this.loadVideowithPlay()},100)}previousVideo(){if(this.displayIndex>0){if(this.displayIndex--,this.videoReady=!1,this.videoPlayer&&this.videoPlayer.nativeElement){let e=this.videoPlayer.nativeElement;e.pause(),e.currentTime=0}this.playTimeout&&(clearTimeout(this.playTimeout),this.playTimeout=null),this.playingTimeout&&(clearTimeout(this.playingTimeout),this.playingTimeout=null),setTimeout(()=>{this.loadVideowithPlay()},100)}}startvideo(){let e=this.videoPlayer.nativeElement;!e.paused&&!e.ended||(e.muted=!1,e.play().then(()=>{}).catch(t=>{console.error("Error playing video:",t)}))}onLoaderVideoEnded(){this.loaderVideoEnded=!0}onImageLoad(){this.imagesLoaded++,this.loadedImageEmitter.emit(this.imagesLoaded)}updateProgress(){if(this.banners[this.displayIndex].type==="emission"){let e=new Date,t=this.banners[this.displayIndex].startTime.split(":").map(Number),n=this.banners[this.displayIndex].endTime.split(":").map(Number),i=t[0]*60+t[1],s=n[0]*60+n[1],m=e.getHours()*60+e.getMinutes(),O=s-i,G=m-i;m>=i&&m<=s?this.progress=G/O:m>s?this.progress=1:this.progress=0}}stopVideo(){if(this.videoReady=!1,this.videoPlayer&&this.videoPlayer.nativeElement)try{let e=this.videoPlayer.nativeElement;e.paused||e.pause(),e.currentTime=0,e.muted=!0,e.removeAttribute("src"),e.load()}catch(e){console.error("Error stopping video:",e)}this.playTimeout&&(clearTimeout(this.playTimeout),this.playTimeout=null),this.playingTimeout&&(clearTimeout(this.playingTimeout),this.playingTimeout=null)}getCurrentElement(){return this.banners[this.displayIndex]}applyGradient(){this.lang==="fr"||this.lang==="en"?this.verticalGradient.nativeElement.style.background=`
      linear-gradient(
        90.7deg,
        #021024 5.43%,
        rgba(3, 26, 58, 0.94) 20.99%,
        rgba(8, 61, 138, 0.04) 58.9%
      )
    `:this.verticalGradient.nativeElement.style.background=`
      linear-gradient(
        270deg,
        #021024 5.43%,
        rgba(3, 26, 58, 0.94) 20.99%,
        rgba(8, 61, 138, 0.04) 58.9%
      )
    `}handleKeyDown(e){if(!this.isListing)return;let t=Date.now(),n=this.keyPressTimestamps.get(e.key)||0;if(!(t-n<this.KEY_THROTTLE_TIME))switch(this.keyPressTimestamps.set(e.key,t),e.key){case"ArrowUp":this.onUp();break;case"ArrowDown":this.onDown();break;case"ArrowLeft":this.lang==="ar"?this.onRight():this.onLeft();break;case"ArrowRight":this.lang==="ar"?this.onLeft():this.onRight();break;case"Enter":this.onOk();break;case"Backspace":case"backButton":case"Escape":this.onReturn();break;default:console.log(`[hero] Unhandled key: ${e.key}`)}}onUp(){this.zone.run(()=>{this.exitEmitter.emit("up")})}onDown(){this.zone.run(()=>{this.exitEmitter.emit("down")})}onLeft(){this.zone.run(()=>{this.displayIndex>0?(this.previousVideo(),this.scrollToCurrentItemLeft()):this.exitEmitter.emit("left")})}onRight(){this.zone.run(()=>{this.displayIndex<this.banners.length-1&&(this.nextVideo(),this.scrollToCurrentItemRight())})}onOk(){this.zone.run(()=>{this.actionEmitter.emit(this.getCurrentElement())})}onReturn(){this.zone.run(()=>{})}setActive(e){return u(this,null,function*(){let t=s=>new Promise(m=>setTimeout(m,s)),n=!1,i=0;do{yield t(200);let s=document.getElementById(e);s&&(this.renderer2.addClass(s,"active"),s.setAttribute("tabindex","0"),s.focus(),n=!0),i++}while(!n&&i<20)})}setNotActive(e){return u(this,null,function*(){let t=s=>new Promise(m=>setTimeout(m,s)),n=!1,i=0;do{yield t(200);let s=document.getElementById(e);s?(this.renderer2.removeClass(s,"active"),s.setAttribute("tabindex","-1"),document.activeElement===s&&s.blur(),n=!0):i++}while(!n&&i<20)})}scrollToCurrentItem(){let e=this.scrollItems.toArray()[this.displayIndex],t=this.scrollContainer.nativeElement;if(e&&t){let n=e.nativeElement.offsetLeft,i=e.nativeElement.offsetWidth,s=t.scrollLeft,m=t.offsetWidth;(n<s||n+i>s+m)&&t.scrollTo({left:n-m/2+i/2,behavior:"smooth"})}}scrollToCurrentItemRight(){let e=this.displayIndex,t=this.scrollItems.toArray();if(e>1&&e<t.length){let n=window.scrollY,i=t[e].nativeElement;window.scrollTo(0,n),setTimeout(()=>{i.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}),setTimeout(()=>window.scrollTo(0,n),50)},10)}}scrollToCurrentItemLeft(){let e=this.displayIndex,t=this.scrollItems.toArray();if(e>=0&&e<t.length-2){let n=window.scrollY,i=t[e].nativeElement;window.scrollTo(0,n),setTimeout(()=>{i.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}),setTimeout(()=>window.scrollTo(0,n),50)},10)}}};a.\u0275fac=function(t){return new(t||a)(v(L),v(H),v(F),v(K))},a.\u0275cmp=V({type:a,selectors:[["app-hero"]],viewQuery:function(t,n){if(t&1&&(w(ye,5),w(ve,5),w(_e,5),w(xe,5),w(we,5)),t&2){let i;C(i=b())&&(n.videoPlayer=i.first),C(i=b())&&(n.scrollContainer=i.first),C(i=b())&&(n.horizontalGradient=i.first),C(i=b())&&(n.verticalGradient=i.first),C(i=b())&&(n.scrollItems=i)}},hostBindings:function(t,n){t&1&&E("keydown",function(s){return n.handleKeyDown(s)},!1,N)},inputs:{step:"step",banners:"banners"},outputs:{loadedImageEmitter:"loadedImageEmitter",exitEmitter:"exitEmitter",actionEmitter:"actionEmitter"},features:[D],decls:11,vars:7,consts:[["horizontalGradient",""],["verticalGradient",""],["videoPlayer",""],["scrollContainer",""],["scrollItems",""],[1,"banner-carousel"],[1,"gradient-overlay-horizontal"],[1,"gradient-overlay-vertical"],["alt","Program Image",3,"src","load",4,"ngIf"],["preload","auto","playsinline","","autoplay","",3,"display","src","canplay","playing","ended",4,"ngIf"],[1,"body-content"],["class","channel-body",4,"ngIf"],["class","channels-logo",3,"center-content",4,"ngIf"],["alt","Program Image",3,"load","src"],["preload","auto","playsinline","","autoplay","",3,"canplay","playing","ended","src"],[1,"channel-body"],[1,"watch-now-btn"],[1,"bi","bi-broadcast"],[1,"channel-program"],[1,"channel-title"],[2,"width","100%"],["color","danger",3,"value"],[1,"channel-info"],["class","now-badge",3,"ngStyle",4,"ngIf"],[1,"now-badge",3,"ngStyle"],[1,"play-btn"],[1,"bi","bi-play-fill"],[1,"channels-logo"],["class","channel-box",4,"ngFor","ngForOf"],[1,"channel-box"],["alt","",3,"load","src"],["class","selected-img",4,"ngIf"],[1,"selected-img"]],template:function(t,n){t&1&&(d(0,"div",5),x(1,"div",6,0)(3,"div",7,1),_(5,Pe,1,1,"img",8)(6,Ee,2,3,"video",9),d(7,"div",10),_(8,Me,15,8,"div",11)(9,Ie,12,6,"div",11)(10,Se,3,3,"div",12),c()()),t&2&&(T("step2",n.step===2),l(5),p("ngIf",!n.videoReady||n.step===2),l(),p("ngIf",n.step===1),l(2),p("ngIf",n.banners[n.displayIndex].type==="emission"),l(),p("ngIf",n.banners[n.displayIndex].type==="banner"),l(),p("ngIf",n.step===1))},dependencies:[A,U,R,oe,ae,q,Q],styles:[".blue-screen[_ngcontent-%COMP%]{position:fixed;top:0;inset-inline-start:0;width:100%;height:100%;background-color:#003da1;z-index:9999}.loader-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#003da1;z-index:9999}.loader-video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.banner-carousel[_ngcontent-%COMP%]{width:100%;height:100vh;overflow:hidden;outline:none}.banner-carousel[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;outline:none;z-index:0}.banner-carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;outline:none}.banner-carousel[_ngcontent-%COMP%]   .gradient-overlay-horizontal[_ngcontent-%COMP%]{position:absolute;bottom:0;inset-inline-start:0;width:100%;height:100%;z-index:3;pointer-events:none;background:linear-gradient(1.04deg,#021024 5.43%,#031a3af0 20.99%,#083d8a0a 58.9%)}.banner-carousel[_ngcontent-%COMP%]   .gradient-overlay-vertical[_ngcontent-%COMP%]{position:absolute;bottom:0;inset-inline-start:0;width:100%;height:100%;background:linear-gradient(90.7deg,#021024 5.43%,#031a3af0 20.99%,#083d8a0a 58.9%);z-index:3;pointer-events:none}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]{position:absolute;bottom:40%;inset-inline-start:10%;display:flex;flex-direction:column;align-items:start;gap:20px;z-index:4;max-width:450px;transition:bottom .3s ease-in-out}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .watch-now-btn[_ngcontent-%COMP%]{font-size:12px;color:#fff;font-weight:100!important;padding-block:10px;padding-inline-start:0px;padding-inline-end:20px;border-radius:20px;border:none;background:#ffffff30;box-shadow:0 4px 15px #48a1fb52;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);outline:none}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .watch-now-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fff;border-radius:20px;padding:10px 12px;border:1px solid red}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .watch-now-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%]{font-size:12px;color:#fff;font-weight:100!important;padding-block:10px;padding-inline-start:0px;padding-inline-end:20px;border-radius:20px;border:none;background:#ffffff30;box-shadow:0 4px 15px #48a1fb52;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);outline:none}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fff;border-radius:20px;padding:11px 10px}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;line-height:0px;color:#00f;height:18px}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .channel-program[_ngcontent-%COMP%]{font-size:16px;color:#f4f4f4;font-weight:300!important;text-transform:capitalize;line-height:16px;letter-spacing:.25px}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .channel-title[_ngcontent-%COMP%]{font-size:30px;line-height:30px;color:#e3e3e3;font-weight:700!important;text-transform:capitalize}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .channel-info[_ngcontent-%COMP%]{font-size:14px;color:#f4f4f4;font-weight:100!important;text-transform:capitalize;margin-top:5px}.step2[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]{bottom:45%}.step2[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .channel-program[_ngcontent-%COMP%]{font-size:14px;font-weight:300!important;line-height:16px;letter-spacing:.25px}.step2[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .channel-title[_ngcontent-%COMP%]{font-size:28px;line-height:30px;font-weight:700!important}.step2[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .channel-info[_ngcontent-%COMP%]{font-size:12px;font-weight:400!important;font-weight:100!important}.body-content[_ngcontent-%COMP%]   .channels-logo[_ngcontent-%COMP%]{position:absolute;left:50%;flex-direction:column;transform:translate(-50%);bottom:12%;display:flex;flex-direction:row;align-items:center;justify-content:start;width:100%;max-width:400px;z-index:4;gap:65px;overflow-x:scroll;outline:none}.body-content[_ngcontent-%COMP%]   .channels-logo[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.body-content[_ngcontent-%COMP%]   .channel-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;outline:none}.body-content[_ngcontent-%COMP%]   .channels-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:100%;filter:grayscale(96%)}.body-content[_ngcontent-%COMP%]   .channels-logo[_ngcontent-%COMP%]   .current-img[_ngcontent-%COMP%]{width:50px;height:100%;filter:grayscale(0%)!important}.body-content[_ngcontent-%COMP%]   .channels-logo[_ngcontent-%COMP%]   .selected-img[_ngcontent-%COMP%]{width:100%;height:4px;background:linear-gradient(270deg,#48a1fb 4.95%,#fff0 90.5%)}.channels-logo[_ngcontent-%COMP%]{scroll-behavior:smooth}.now-badge[_ngcontent-%COMP%]{position:absolute;bottom:33px;transform:translate(-50%);background-color:red;color:#fff;padding:1px 3px;font-size:9px;border-radius:4px;white-space:nowrap;z-index:1}[_ngcontent-%COMP%]:dir(ltr)   .now-badge[_ngcontent-%COMP%]{transform:translate(-50%)}[_ngcontent-%COMP%]:dir(rtl)   .now-badge[_ngcontent-%COMP%]{transform:translate(50%)}.center-content[_ngcontent-%COMP%]{justify-content:center!important}"]});let r=a;return r})();var ze=["scrollContainer"],Be=["scrollItems"];function Le(r,a){if(r&1){let o=M();d(0,"div",6,1)(2,"img",7),E("load",function(){f(o);let t=h();return y(t.onImageLoad())}),c(),d(3,"div",8)(4,"p",9),g(5),c()()()}if(r&2){let o=a.$implicit,e=a.index;ie("id","swiper-card-",e,""),l(2),p("src",o.poster,I),l(3),P(o.name)}}function Ve(r,a){if(r&1&&(d(0,"div",13),x(1,"img",14),d(2,"div",8)(3,"p",9),g(4),c()()()),r&2){let o=a.$implicit;l(),p("src",o.poster,I),l(3),P(o.name)}}function Re(r,a){if(r&1&&(Y(0),d(1,"div",10)(2,"p"),g(3),c()(),d(4,"div",11),_(5,Ve,5,2,"div",12),c(),j()),r&2){let o=h();l(),T("step2",o.step===2),l(2),P(o.nextcategorieTitle),l(),T("step2",o.step===2),l(),p("ngForOf",o.nextChannels)}}function Ae(r,a){if(r&1&&(d(0,"div",18,1),x(2,"img",14),c()),r&2){let o=a.$implicit;l(2),p("src",o,I)}}function He(r,a){if(r&1&&(d(0,"div",16,0),_(2,Ae,3,1,"div",17),c()),r&2){let o=h(2);T("center-content",o.channelBannerLogo.length<=3),l(2),p("ngForOf",o.channelBannerLogo)}}function De(r,a){if(r&1&&(Y(0),_(1,He,3,3,"div",15),j()),r&2){let o=h();l(),p("ngIf",o.step===2)}}var te=(()=>{let a=class a{constructor(e,t,n){this.renderer2=e,this.zone=t,this.storageService=n,this.categories=[],this.channelBannerLogo=[],this.loadedImageEmitter=new z,this.exitEmitter=new z,this.actionEmitter=new z,this.hoverSwiperChannel=new z,this.currentCategorie=[],this.channels=[],this.currentCategoryIndex=0,this.imagesLoaded=0,this.isListing=!1,this.previousElementId="",this.entryPoint="",this.currentId="swiper-card-0",this.lang="fr",this.backButtonPressed=!1,this.keyPressTimestamps=new Map,this.KEY_THROTTLE_TIME=150,this.THROTTLED_KEYS=["ArrowUp","ArrowDown"]}ngOnInit(){return u(this,null,function*(){this.currentCategorie=this.categories[this.currentCategoryIndex],this.channels=this.currentCategorie.channels,this.setupBackButtonHandler(),this.lang=yield this.storageService.get("lang")})}ngOnDestroy(){this.backButtonTimeout&&clearTimeout(this.backButtonTimeout)}ngOnChanges(e){this.zone.run(()=>{e.step&&!e.step.firstChange&&(this.step=e.step.currentValue)})}setupBackButtonHandler(){window.handleBackButton=()=>{if(console.log("Back button pressed from Android - home page"),this.backButtonPressed){console.log("Back button already pressed, ignoring duplicate");return}this.backButtonPressed=!0,this.zone.run(()=>{this.handleKeyDown(new KeyboardEvent("keydown",{key:"Backspace"}))}),this.backButtonTimeout=setTimeout(()=>{this.backButtonPressed=!1},300)}}translatedNameCategory(e){if(this.lang==="fr")return e.name;if(this.lang==="en"||this.lang==="ar"){let t="";return e.channelCategoryTranslations&&e.channelCategoryTranslations.length!==0?e.channelCategoryTranslations.forEach(n=>{n.lang===this.lang&&(t=n.name)}):t=e.name,t}else return e.name}get nextcategorieTitle(){let e=0;return this.step==1?e=0:e=this.currentCategoryIndex+1,this.translatedNameCategory(this.categories[e])||""}get nextChannels(){var t;let e=0;return this.step==1?e=0:e=this.currentCategoryIndex+1,((t=this.categories[e])==null?void 0:t.channels)||[]}initSwiper(e,t){return u(this,null,function*(){this.currentCategorie=this.categories[this.currentCategoryIndex],this.channels=this.currentCategorie.channels,this.isListing=!0,this.entryPoint=e,this.setActive(this.currentId),this.hoverSwiperChannel.emit(this.channels[0])})}destroySwiper(){this.isListing=!1,this.previousElementId=this.currentId,this.entryPoint="",this.setNotActive(this.currentId),this.currentId="swiper-card-0",this.currentCategoryIndex=0,this.currentCategorie=this.categories[this.currentCategoryIndex],this.channels=this.currentCategorie.channels}onImageLoad(){this.imagesLoaded++,this.loadedImageEmitter.emit(this.imagesLoaded)}setListing(e){this.isListing=e}setPreviousElement(e){this.previousElementId=e}setEntryPoint(e){this.entryPoint=e}handleKeyDown(e){if(this.isListing){if(this.THROTTLED_KEYS.includes(e.key)){let t=Date.now(),n=this.keyPressTimestamps.get(e.key)||0;if(t-n<this.KEY_THROTTLE_TIME)return;this.keyPressTimestamps.set(e.key,t)}switch(e.key){case"ArrowUp":this.onUp();break;case"ArrowDown":this.onDown();break;case"ArrowLeft":this.lang==="ar"?this.onRight():this.onLeft();break;case"ArrowRight":this.lang==="ar"?this.onLeft():this.onRight();break;case"Enter":this.onOk();break;case"Backspace":case"backButton":case"Escape":this.onReturn();break;default:console.log(`[swiper] Unhandled key: ${e.key}`)}}}onUp(){this.zone.run(()=>{if(this.currentCategoryIndex>0){let t=this.scrollContainer.nativeElement,n=document.querySelector(".swiper-title"),i=document.querySelector(".swiper-container-preview"),s=document.querySelector(".swiper-title-preview");this.renderer2.addClass(t,"exit-up"),n&&this.renderer2.addClass(n,"exit-up"),i&&this.renderer2.addClass(i,"exit-up"),s&&this.renderer2.addClass(s,"exit-up"),setTimeout(()=>{this.renderer2.removeClass(t,"exit-up"),n&&this.renderer2.removeClass(n,"exit-up"),i&&this.renderer2.removeClass(i,"exit-up"),s&&this.renderer2.removeClass(s,"exit-up"),this.setNotActive(this.currentId),this.currentCategoryIndex--,this.currentCategorie=this.categories[this.currentCategoryIndex],this.channels=this.currentCategorie.channels,this.currentId="swiper-card-0",this.setActive(this.currentId),this.hoverSwiperChannel.emit(this.channels[0]),this.renderer2.addClass(t,"animate-up"),n&&this.renderer2.addClass(n,"animate-up"),i&&this.renderer2.addClass(i,"animate-up"),s&&this.renderer2.addClass(s,"animate-up"),setTimeout(()=>{this.renderer2.removeClass(t,"animate-up"),n&&this.renderer2.removeClass(n,"animate-up"),i&&this.renderer2.removeClass(i,"animate-up"),s&&this.renderer2.removeClass(s,"animate-up")},500)},400)}else this.exitEmitter.emit("up")})}onDown(){this.zone.run(()=>{let e=this.currentCategoryIndex;if(e<this.categories.length-1){let t=this.scrollContainer.nativeElement,n=document.querySelector(".swiper-title"),i=document.querySelector(".swiper-container-preview"),s=document.querySelector(".swiper-title-preview");this.renderer2.addClass(t,"exit-down"),n&&this.renderer2.addClass(n,"exit-down"),i&&this.renderer2.addClass(i,"exit-down"),s&&this.renderer2.addClass(s,"exit-down"),setTimeout(()=>{this.renderer2.removeClass(t,"exit-down"),n&&this.renderer2.removeClass(n,"exit-down"),i&&this.renderer2.removeClass(i,"exit-down"),s&&this.renderer2.removeClass(s,"exit-down"),this.setNotActive(this.currentId),this.currentCategoryIndex++,this.currentCategorie=this.categories[this.currentCategoryIndex],this.channels=this.currentCategorie.channels,this.currentId="swiper-card-0",this.setActive(this.currentId),this.hoverSwiperChannel.emit(this.channels[0]),this.renderer2.addClass(t,"animate-down"),n&&this.renderer2.addClass(n,"animate-down"),i&&this.renderer2.addClass(i,"animate-down"),s&&this.renderer2.addClass(s,"animate-down"),setTimeout(()=>{this.renderer2.removeClass(t,"animate-down"),n&&this.renderer2.removeClass(n,"animate-down"),i&&this.renderer2.removeClass(i,"animate-down"),s&&this.renderer2.removeClass(s,"animate-down")},500)},400)}else e==this.categories.length-1?this.exitEmitter.emit("down"):this.exitEmitter.emit("down")})}onLeft(){let e=this.currentId.split("-"),n=parseInt(e[2])-1;if(n<0)this.exitEmitter.emit("left");else{let i="swiper-card-"+n;document.getElementById(i)&&(this.setNotActive(this.currentId),this.setActive(i),this.currentId=i,this.scrollToCurrentItemLeft(),this.hoverSwiperChannel.emit(this.channels[n]))}}onRight(){let e=this.currentId.split("-"),n=parseInt(e[2])+1;if(n>this.channels.length-1)this.exitEmitter.emit("right");else{let i="swiper-card-"+n;document.getElementById(i)&&(this.setNotActive(this.currentId),this.setActive(i),this.currentId=i,this.scrollToCurrentItemRight(),this.hoverSwiperChannel.emit(this.channels[n]))}}onOk(){let e=this.currentId.split("-"),t=parseInt(e[2]);this.actionEmitter.emit(this.channels[t])}onReturn(){}setActive(e){return u(this,null,function*(){let t=s=>new Promise(m=>setTimeout(m,s)),n=!1,i=0;do{yield t(200);let s=document.getElementById(e);s&&(this.renderer2.addClass(s,"active"),s.setAttribute("tabindex","0"),s.focus(),n=!0),i++}while(!n&&i<20)})}setNotActive(e){return u(this,null,function*(){let t=s=>new Promise(m=>setTimeout(m,s)),n=!1,i=0;do{yield t(200);let s=document.getElementById(e);s?(this.renderer2.removeClass(s,"active"),s.setAttribute("tabindex","-1"),document.activeElement===s&&s.blur(),n=!0):i++}while(!n&&i<20)})}scrollToCurrentItemRight(){let e=this.currentId.split("-"),t=parseInt(e[2]),n=this.scrollItems.toArray();if(t>1&&t<n.length){let i=window.scrollY,s=n[t].nativeElement;window.scrollTo(0,i),setTimeout(()=>{s.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}),setTimeout(()=>window.scrollTo(0,i),50)},10)}}scrollToCurrentItemLeft(){let e=this.currentId.split("-"),t=parseInt(e[2]),n=this.scrollItems.toArray();if(t>=0&&t<n.length-2){let i=window.scrollY,s=n[t].nativeElement;window.scrollTo(0,i),setTimeout(()=>{s.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}),setTimeout(()=>window.scrollTo(0,i),50)},10)}}};a.\u0275fac=function(t){return new(t||a)(v(F),v(L),v(H))},a.\u0275cmp=V({type:a,selectors:[["app-swiper"]],viewQuery:function(t,n){if(t&1&&(w(ze,5),w(Be,5)),t&2){let i;C(i=b())&&(n.scrollContainer=i.first),C(i=b())&&(n.scrollItems=i)}},hostBindings:function(t,n){t&1&&E("keydown",function(s){return n.handleKeyDown(s)},!1,N)},inputs:{step:"step",categories:"categories",channelBannerLogo:"channelBannerLogo"},outputs:{loadedImageEmitter:"loadedImageEmitter",exitEmitter:"exitEmitter",actionEmitter:"actionEmitter",hoverSwiperChannel:"hoverSwiperChannel"},features:[D],decls:8,vars:12,consts:[["scrollContainer",""],["scrollItems",""],[1,"swiper-title"],[1,"swiper-container"],["class","swiper-card",3,"id",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"swiper-card",3,"id"],["alt","",3,"load","src"],[1,"card-content"],[1,"program"],[1,"swiper-title-preview","preview"],[1,"swiper-container-preview","preview"],["class","swiper-card",4,"ngFor","ngForOf"],[1,"swiper-card"],["alt","",3,"src"],["class","channels-logo",3,"center-content",4,"ngIf"],[1,"channels-logo"],["class","channel-box",4,"ngFor","ngForOf"],[1,"channel-box"]],template:function(t,n){t&1&&(d(0,"div",2)(1,"p"),g(2),c()(),d(3,"div",3,0),_(5,Le,6,4,"div",4),c(),_(6,Re,6,6,"ng-container",5)(7,De,2,1,"ng-container",5)),t&2&&(T("preview",n.step===1)("step2",n.step===2),l(2),P(n.translatedNameCategory(n.currentCategorie)),l(),T("preview",n.step===1)("step2",n.step===2),l(2),p("ngForOf",n.channels),l(),p("ngIf",n.currentCategoryIndex<n.categories.length-1),l(),p("ngIf",n.currentCategoryIndex==n.categories.length-1))},dependencies:[A,U,R],styles:[".swiper-title[_ngcontent-%COMP%]{position:absolute;z-index:3;inset-inline-start:10%;margin-top:-50px;transition:all .3s cubic-bezier(.25,.46,.45,.94);will-change:transform,opacity;outline:none}.swiper-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:16px;line-height:24px;letter-spacing:.25px;color:#f4f4f4;transition:all .2s ease-out}.swiper-title.animate-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_titleSlideFromTop .4s cubic-bezier(.25,.46,.45,.94)}.swiper-title.animate-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_titleSlideFromBottom .4s cubic-bezier(.25,.46,.45,.94)}.swiper-title.exit-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_titleExitToTop .3s cubic-bezier(.55,.085,.68,.53) forwards}.swiper-title.exit-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_titleExitToBottom .3s cubic-bezier(.55,.085,.68,.53) forwards}.step2.swiper-title[_ngcontent-%COMP%]{margin-top:-215px!important;outline:none}.swiper-container[_ngcontent-%COMP%]{position:absolute;inset-inline-start:10%;margin-top:-30px;z-index:3;display:flex;flex-direction:row;align-items:center;justify-content:start;gap:20px;transition:margin-top .3s ease-in-out;outline:none;overflow-x:auto;overflow-y:hidden;max-width:800px;padding:5px 10px 15px}.swiper-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.swiper-container[_ngcontent-%COMP%]   .swiper-card[_ngcontent-%COMP%]{width:180px!important;height:100px!important;flex-shrink:0;border-radius:5px;box-shadow:0 3px 10px #ffffff4a;outline:none}.swiper-container[_ngcontent-%COMP%]   .swiper-card[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .swiper-container[_ngcontent-%COMP%]   .swiper-card[_ngcontent-%COMP%]:focus, .swiper-container[_ngcontent-%COMP%]   .swiper-card[_ngcontent-%COMP%]:focus-visible{border:2px solid #00d4ff;outline:none}.swiper-container[_ngcontent-%COMP%]   .swiper-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{position:absolute;bottom:15px;padding:5px}.swiper-container[_ngcontent-%COMP%]   .swiper-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px;object-fit:cover}.step2.swiper-container[_ngcontent-%COMP%]{margin-top:-190px!important}.preview[_ngcontent-%COMP%]{opacity:.5;transition:opacity .3s ease-in-out}.swiper-container[_ngcontent-%COMP%], .swiper-container-preview[_ngcontent-%COMP%]{scroll-behavior:smooth;transition:all .3s cubic-bezier(.25,.46,.45,.94);will-change:transform,opacity}.swiper-container.animate-up[_ngcontent-%COMP%], .swiper-container-preview.animate-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeSlideFromTop .4s cubic-bezier(.25,.46,.45,.94)}.swiper-container.animate-down[_ngcontent-%COMP%], .swiper-container-preview.animate-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeSlideFromBottom .4s cubic-bezier(.25,.46,.45,.94)}.swiper-container.exit-up[_ngcontent-%COMP%], .swiper-container-preview.exit-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_exitSlideToTop .3s cubic-bezier(.55,.085,.68,.53) forwards}.swiper-container.exit-down[_ngcontent-%COMP%], .swiper-container-preview.exit-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_exitSlideToBottom .3s cubic-bezier(.55,.085,.68,.53) forwards}.swiper-title-preview[_ngcontent-%COMP%]{position:absolute;z-index:3;inset-inline-start:10%;margin-top:0;transition:all .3s cubic-bezier(.25,.46,.45,.94);will-change:transform,opacity;outline:none}.swiper-title-preview[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:15px;line-height:24px;letter-spacing:.25px;color:#f4f4f4;transition:all .2s ease-out}.swiper-title-preview.animate-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_titleSlideFromTop .4s cubic-bezier(.25,.46,.45,.94)}.swiper-title-preview.animate-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_titleSlideFromBottom .4s cubic-bezier(.25,.46,.45,.94)}.swiper-title-preview.exit-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_titleExitToTop .3s cubic-bezier(.55,.085,.68,.53) forwards}.swiper-title-preview.exit-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_titleExitToBottom .3s cubic-bezier(.55,.085,.68,.53) forwards}.step2.swiper-title-preview[_ngcontent-%COMP%]{margin-top:-60px!important;outline:none}.swiper-container-preview[_ngcontent-%COMP%]{position:absolute;inset-inline-start:10%;margin-top:0;z-index:3;display:flex;flex-direction:row;align-items:center;justify-content:start;gap:20px;transition:margin-top .3s ease-in-out;outline:none;overflow-x:auto;overflow-y:hidden;max-width:800px;padding:5px 10px 15px}.swiper-container-preview[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.swiper-container-preview[_ngcontent-%COMP%]   .swiper-card[_ngcontent-%COMP%]{width:180px!important;height:100px!important;flex-shrink:0;border-radius:5px;outline:none}.swiper-container-preview[_ngcontent-%COMP%]   .swiper-card[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .swiper-container-preview[_ngcontent-%COMP%]   .swiper-card[_ngcontent-%COMP%]:focus, .swiper-container-preview[_ngcontent-%COMP%]   .swiper-card[_ngcontent-%COMP%]:focus-visible{border:2px solid #00d4ff;outline:none}.swiper-container-preview[_ngcontent-%COMP%]   .swiper-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{position:absolute;bottom:15px;padding:5px}.swiper-container-preview[_ngcontent-%COMP%]   .swiper-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px;object-fit:cover}.step2.swiper-container-preview[_ngcontent-%COMP%]{margin-top:-30px!important}@keyframes _ngcontent-%COMP%_fadeSlideFromTop{0%{opacity:0;transform:translateY(-120px) scale(.95);filter:blur(1px)}50%{opacity:.7;transform:translateY(-60px) scale(.98);filter:blur(.5px)}to{opacity:1;transform:translateY(0) scale(1);filter:blur(0)}}@keyframes _ngcontent-%COMP%_fadeSlideFromBottom{0%{opacity:0;transform:translateY(60px) scale(.95);filter:blur(1px)}50%{opacity:.7;transform:translateY(20px) scale(.98);filter:blur(.5px)}to{opacity:1;transform:translateY(0) scale(1);filter:blur(0)}}@keyframes _ngcontent-%COMP%_exitSlideToTop{0%{opacity:1;transform:translateY(0) scale(1);filter:blur(0)}50%{opacity:.5;transform:translateY(60px) scale(.95);filter:blur(.5px)}to{opacity:0;transform:translateY(120px) scale(.9);filter:blur(1px)}}@keyframes _ngcontent-%COMP%_exitSlideToBottom{0%{opacity:1;transform:translateY(0) scale(1);filter:blur(0)}50%{opacity:.5;transform:translateY(-60px) scale(.95);filter:blur(.5px)}to{opacity:0;transform:translateY(-120px) scale(.9);filter:blur(1px)}}@keyframes _ngcontent-%COMP%_titleSlideFromTop{0%{opacity:0;transform:translateY(-120px) scale(.9);filter:blur(.5px)}60%{opacity:.8;transform:translateY(-60px) scale(.95);filter:blur(.3px)}to{opacity:1;transform:translateY(0) scale(1);filter:blur(0)}}@keyframes _ngcontent-%COMP%_titleSlideFromBottom{0%{opacity:0;transform:translateY(60px) scale(.9);filter:blur(.5px)}60%{opacity:.8;transform:translateY(20px) scale(.95);filter:blur(.3px)}to{opacity:1;transform:translateY(0) scale(1);filter:blur(0)}}@keyframes _ngcontent-%COMP%_titleExitToTop{0%{opacity:1;transform:translateY(0) scale(1);filter:blur(0)}50%{opacity:.5;transform:translateY(60px) scale(.95);filter:blur(.3px)}to{opacity:0;transform:translateY(120px) scale(.9);filter:blur(.8px)}}@keyframes _ngcontent-%COMP%_titleExitToBottom{0%{opacity:1;transform:translateY(0) scale(1);filter:blur(0)}50%{opacity:.5;transform:translateY(-60px) scale(.95);filter:blur(.3px)}to{opacity:0;transform:translateY(-120px) scale(.9);filter:blur(.8px)}}.channels-logo[_ngcontent-%COMP%]{opacity:.5;position:absolute;left:50%;flex-direction:column;transform:translate(-50%);bottom:-2%;display:flex;flex-direction:row;align-items:center;justify-content:start;width:100%;max-width:400px;z-index:4;gap:65px;overflow-x:scroll;outline:none}.channels-logo[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.channel-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;outline:none}.channels-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:100%}"]});let r=a;return r})();var Ne=["videoPlayer"],Fe=["horizontalGradient"],Ye=["verticalGradient"];function je(r,a){if(r&1&&x(0,"img",14),r&2){let o=h();p("src",o.data.channelImg?o.data.channelImg:o.data.poster,I)}}function Qe(r,a){if(r&1){let o=M();d(0,"video",15,2),E("canplay",function(){f(o);let t=h();return y(t.onVideoReady())})("playing",function(){f(o);let t=h();return y(t.onVideoPlaying())})("ended",function(){f(o);let t=h();return y(t.onVideoEnded())}),c()}if(r&2){let o=h();p("hidden",!o.videoReady)("src",o.data.video,I)}}var ue=(()=>{let a=class a{constructor(e,t){this.zone=e,this.storageService=t,this.videoReady=!1,this.loaderVideoEnded=!1,this.language="ltr"}ngOnInit(){return u(this,null,function*(){this.language=(yield this.storageService.get("lang"))==="ar"?"rtl":"ltr",this.applyGradient(),this.loadVideo()})}ngOnChanges(e){this.zone.run(()=>{e.data})}loadVideo(){this.videoReady=!1}onVideoReady(){return u(this,null,function*(){this.videoPlayer.nativeElement.pause(),this.videoReady=!1})}onVideoPlaying(){setTimeout(()=>{this.videoReady=!0,this.startvideo()},500)}startvideo(){let e=this.videoPlayer.nativeElement;e.muted=!1,e.play()}onVideoEnded(){this.loadVideo()}applyGradient(){this.language==="ltr"?this.verticalGradient.nativeElement.style.background=`
      linear-gradient(
        90.7deg,
        #021024 5.43%,
        rgba(3, 26, 58, 0.94) 20.99%,
        rgba(8, 61, 138, 0.04) 58.9%
      )
    `:this.verticalGradient.nativeElement.style.background=`
      linear-gradient(
        270deg,
        #021024 5.43%,
        rgba(3, 26, 58, 0.94) 20.99%,
        rgba(8, 61, 138, 0.04) 58.9%
      )
    `}};a.\u0275fac=function(t){return new(t||a)(v(L),v(H))},a.\u0275cmp=V({type:a,selectors:[["app-preview-channel"]],viewQuery:function(t,n){if(t&1&&(w(Ne,5),w(Fe,5),w(Ye,5)),t&2){let i;C(i=b())&&(n.videoPlayer=i.first),C(i=b())&&(n.horizontalGradient=i.first),C(i=b())&&(n.verticalGradient=i.first)}},inputs:{data:"data"},features:[D],decls:18,vars:7,consts:[["horizontalGradient",""],["verticalGradient",""],["videoPlayer",""],[1,"banner-carousel","step2"],[1,"gradient-overlay-horizontal"],[1,"gradient-overlay-vertical"],["alt","Program Image",3,"src",4,"ngIf"],["preload","auto","playsinline","","autoplay","","muted","",3,"hidden","src","canplay","playing","ended",4,"ngIf"],[1,"body-content"],[1,"channel-body"],[1,"channel-title"],[1,"channel-info"],[1,"play-btn"],[1,"bi","bi-play-fill"],["alt","Program Image",3,"src"],["preload","auto","playsinline","","autoplay","","muted","",3,"canplay","playing","ended","hidden","src"]],template:function(t,n){t&1&&(d(0,"div",3),x(1,"div",4,0)(3,"div",5,1),_(5,je,1,1,"img",6)(6,Qe,2,2,"video",7),d(7,"div",8)(8,"div",9)(9,"p",10),g(10),c(),d(11,"p",11),g(12),c(),d(13,"button",12)(14,"span"),x(15,"i",13),c(),g(16),k(17,"translate"),c()()()()),t&2&&(l(5),p("ngIf",!n.videoReady),l(),p("ngIf",n.data.channelVideo),l(4),P(n.data.name),l(2),P(n.data.description),l(4),B(" ",S(17,5,"Play")," "))},dependencies:[A,R,q,Q],styles:[".blue-screen[_ngcontent-%COMP%]{position:fixed;top:0;inset-inline-start:0;width:100%;height:100%;background-color:#003da1;z-index:9999}.loader-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#003da1;z-index:9999}.loader-video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.banner-carousel[_ngcontent-%COMP%]{width:100%;height:100vh;overflow:hidden;outline:none}.banner-carousel[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;outline:none;z-index:0}.banner-carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;outline:none}.banner-carousel[_ngcontent-%COMP%]   .gradient-overlay-horizontal[_ngcontent-%COMP%]{position:absolute;bottom:0;inset-inline-start:0;width:100%;height:100%;z-index:3;pointer-events:none;background:linear-gradient(1.04deg,#021024 5.43%,#031a3af0 20.99%,#083d8a0a 58.9%)}.banner-carousel[_ngcontent-%COMP%]   .gradient-overlay-vertical[_ngcontent-%COMP%]{position:absolute;bottom:0;inset-inline-start:0;width:100%;height:100%;background:linear-gradient(90.7deg,#021024 5.43%,#031a3af0 20.99%,#083d8a0a 58.9%);z-index:3;pointer-events:none}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]{position:absolute;bottom:40%;inset-inline-start:10%;display:flex;flex-direction:column;align-items:start;gap:20px;z-index:4;max-width:450px;transition:bottom .3s ease-in-out}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .watch-now-btn[_ngcontent-%COMP%]{font-size:12px;color:#fff;font-weight:100!important;padding-block:10px;padding-inline-start:0px;padding-inline-end:20px;border-radius:20px;border:none;background:#ffffff30;box-shadow:0 4px 15px #48a1fb52;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);outline:none}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .watch-now-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fff;border-radius:20px;padding:10px 12px;border:1px solid red}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .watch-now-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%]{font-size:12px;color:#fff;font-weight:100!important;padding-block:10px;padding-inline-start:0px;padding-inline-end:20px;border-radius:20px;border:none;background:#ffffff30;box-shadow:0 4px 15px #48a1fb52;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);outline:none}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fff;border-radius:20px;padding:11px 10px}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;line-height:0px;color:#00f;height:18px}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .channel-program[_ngcontent-%COMP%]{font-size:16px;color:#f4f4f4;font-weight:300!important;text-transform:capitalize;line-height:16px;letter-spacing:.25px}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .channel-title[_ngcontent-%COMP%]{font-size:30px;line-height:30px;color:#e3e3e3;font-weight:700!important;text-transform:capitalize}.body-content[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .channel-info[_ngcontent-%COMP%]{font-size:14px;color:#f4f4f4;font-weight:100!important;text-transform:capitalize;margin-top:5px}.step2[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]{bottom:45%}.step2[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .channel-program[_ngcontent-%COMP%]{font-size:14px;font-weight:300!important;line-height:16px;letter-spacing:.25px}.step2[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .channel-title[_ngcontent-%COMP%]{font-size:28px;line-height:30px;font-weight:700!important}.step2[_ngcontent-%COMP%]   .channel-body[_ngcontent-%COMP%]   .channel-info[_ngcontent-%COMP%]{font-size:12px;font-weight:400!important;font-weight:100!important}.body-content[_ngcontent-%COMP%]   .channels-logo[_ngcontent-%COMP%]{position:absolute;left:50%;flex-direction:column;transform:translate(-50%);bottom:12%;display:flex;flex-direction:row;align-items:center;justify-content:start;width:100%;max-width:400px;z-index:4;gap:65px;overflow-x:scroll;outline:none}.body-content[_ngcontent-%COMP%]   .channels-logo[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.body-content[_ngcontent-%COMP%]   .channel-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;outline:none}.body-content[_ngcontent-%COMP%]   .channels-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:100%;filter:grayscale(96%)}.body-content[_ngcontent-%COMP%]   .channels-logo[_ngcontent-%COMP%]   .current-img[_ngcontent-%COMP%]{width:50px;height:100%;filter:grayscale(0%)!important}.body-content[_ngcontent-%COMP%]   .channels-logo[_ngcontent-%COMP%]   .selected-img[_ngcontent-%COMP%]{width:100%;height:4px;background:linear-gradient(270deg,#48a1fb 4.95%,#fff0 90.5%)}.channels-logo[_ngcontent-%COMP%]{scroll-behavior:smooth}.now-badge[_ngcontent-%COMP%]{position:absolute;bottom:33px;transform:translate(-50%);background-color:red;color:#fff;padding:1px 3px;font-size:9px;border-radius:4px;white-space:nowrap;z-index:1}.center-content[_ngcontent-%COMP%]{justify-content:center!important}"]});let r=a;return r})();function qe(r,a){r&1&&(d(0,"div",4),x(1,"img",5),c())}function Ge(r,a){if(r&1){let o=M();Y(0),d(1,"app-sidebar",11),E("exitEmitter",function(t){f(o);let n=h(2);return y(n.onSideBarExit(t))}),c(),j()}}function Ue(r,a){if(r&1){let o=M();d(0,"app-hero",12),E("loadedImageEmitter",function(t){f(o);let n=h(2);return y(n.loadedImageSwiperEmitter(t))})("actionEmitter",function(t){f(o);let n=h(2);return y(n.actionHeroEmitter(t))})("exitEmitter",function(t){f(o);let n=h(2);return y(n.onHeroExit(t))}),c()}if(r&2){let o=h(2);p("banners",o.banners)("step",o.step)}}function Ke(r,a){if(r&1&&x(0,"app-preview-channel",13),r&2){let o=h(2);p("data",o.hoveredChannel)}}function We(r,a){if(r&1){let o=M();Y(0),d(1,"header")(2,"div",6),x(3,"img",7),c()(),_(4,Ge,2,0,"ng-container",3)(5,Ue,1,2,"app-hero",8)(6,Ke,1,1,"app-preview-channel",9),d(7,"app-swiper",10),E("exitEmitter",function(t){f(o);let n=h();return y(n.onSwiperExit(t))})("loadedImageEmitter",function(t){f(o);let n=h();return y(n.loadedImageHeroEmitter(t))})("actionEmitter",function(t){f(o);let n=h();return y(n.actionSwiperEmitter(t))})("hoverSwiperChannel",function(t){f(o);let n=h();return y(n.hoverSwiperChannel(t))}),c(),d(8,"footer")(9,"p"),g(10),k(11,"translate"),d(12,"span"),g(13),k(14,"translate"),c(),g(15),k(16,"translate"),c()(),j()}if(r&2){let o=h();l(4),p("ngIf",o.currentRoute==="home"),l(),p("ngIf",o.step===1),l(),p("ngIf",o.step===2),l(),p("categories",o.categories)("channelBannerLogo",o.channelBannerLogo)("step",o.step),l(3),B(" ",S(11,9,"Press the")," "),l(3),P(S(14,11,"OK")),l(2),B(" ",S(16,13,"button for more info"),"")}}var Bt=(()=>{let a=class a{constructor(e,t,n,i,s,m,O,G){this.navCtrl=e,this.zone=t,this.renderer2=n,this.router=i,this.requestsService=s,this.authService=m,this.storageService=O,this.translate=G,this.step=1,this.totalImages=0,this.imagesSwiperLoaded=0,this.imagesHeroLoaded=0,this.displayedAnimation=!0,this.open=!1,this.splashVideoReady=!1,this.isLoading=!0,this.loaderVideoEnded=!1,this.islistening=!1,this.isConnected=!1,this.isFreeLive=!1,this.freeForGuest=!1,this.activeUser=null,this.currentElementId="hero",this.categories=[],this.banners=[],this.channelBannerLogo=[],this.lang="fr",this.navMap=[{id:"hero",up:"sidebar",left:"sidebar",down:"swiper",type:"self"},{id:"swiper",up:"hero",left:"sidebar",type:"self"},{id:"sidebar",type:"self"}],this.navMapRTL=[{id:"hero",up:"sidebar",right:"sidebar",down:"swiper",type:"self"},{id:"swiper",up:"hero",right:"sidebar",type:"self"},{id:"sidebar",type:"self"}],this.backButtonPressed=!1,this.keyPressTimestamps=new Map,this.KEY_THROTTLE_TIME=150,this.storageService.get("displayed_animation").then(fe=>{fe?(this.displayedAnimation=!0,this.loaderVideoEnded=!0):(this.displayedAnimation=!1,this.storageService.set("displayed_animation",!0))}),this.initGlobalInfo()}ngOnInit(){return u(this,null,function*(){this.setupBackButtonHandler(),this.lang=yield this.storageService.get("lang"),this.translate.onLangChange.subscribe(e=>{this.lang=e.lang})})}ngOnDestroy(){this.backButtonTimeout&&clearTimeout(this.backButtonTimeout)}setupBackButtonHandler(){window.handleBackButton=()=>{if(console.log("Back button pressed from Android - home page"),this.backButtonPressed){console.log("Back button already pressed, ignoring duplicate");return}this.backButtonPressed=!0,this.zone.run(()=>{this.handleKeyDown(new KeyboardEvent("keydown",{key:"Backspace"}))}),this.backButtonTimeout=setTimeout(()=>{this.backButtonPressed=!1},300)}}ionViewDidEnter(){this.initData(),this.initNavStart(),this.currentRoute=this.router.url.substring(1),this.islistening=!0}ionViewDidLeave(){this.step=1,this.splashVideoReady=!1,this.isLoading=!0,this.loaderVideoEnded=!1,this.currentElement=null,this.currentElementId="hero",this.islistening=!1,this.currentRoute="",this.heroComponent&&this.heroComponent.destroyHero(),setTimeout(()=>{if(this.heroComponent&&this.heroComponent.videoPlayer){let e=this.heroComponent.videoPlayer.nativeElement;e&&(e.paused||e.pause(),e.currentTime=0,e.muted=!0,e.removeAttribute("src"),e.load(),e.oncanplay=null,e.onplaying=null,e.onended=null,e.onerror=null,e.onloadeddata=null)}},100),this.backButtonTimeout&&clearTimeout(this.backButtonTimeout)}initGlobalInfo(){return u(this,null,function*(){this.isFreeLive=yield this.storageService.get("freeLiveTv"),this.freeForGuest=yield this.storageService.get("freeForGuest"),this.isConnected=yield this.authService.isLoggedIn(),this.activeUser=yield this.authService.getUserInformation()})}initData(){let e=0;this.open=!1,this.requestsService.get("/banners/access").subscribe({next:t=>u(this,null,function*(){let n=JSON.parse(this.requestsService.decrypt(t.data));this.banners=n.banners,console.log("\u{1F680} ~ HomePage ~ initData ~ this.banners :",this.banners),this.banners.forEach(i=>{this.channelBannerLogo.push(i.channel.logo)}),e++,e===2&&(this.open=!0,this.onSplashEnded())}),error:t=>{let n=JSON.parse(this.requestsService.decrypt(t.error.data))}}),this.requestsService.get("/channels/by-category").subscribe({next:t=>u(this,null,function*(){let n=JSON.parse(this.requestsService.decrypt(t.data));this.categories=n.categories,e++,e===2&&(this.open=!0,this.onSplashEnded())}),error:t=>{let n=JSON.parse(this.requestsService.decrypt(t.error.data))}}),this.open&&(this.totalImages=this.banners.length+this.categories[0].channels.length+1)}loadedImageHeroEmitter(e){this.imagesHeroLoaded=e,this.checkIfDataReady()}actionHeroEmitter(e){this.heroWatchAuthorizationCheck(e)}onHeroExit(e){this.heroComponent.destroyHero(),setTimeout(()=>{if(this.heroComponent&&this.heroComponent.videoPlayer){let t=this.heroComponent.videoPlayer.nativeElement;t&&(t.paused||t.pause(),t.currentTime=0,t.muted=!0,t.removeAttribute("src"),t.load(),t.oncanplay=null,t.onplaying=null,t.onended=null,t.onerror=null,t.onloadeddata=null)}e==="up"&&this.onUp(),e==="down"&&this.onDown(),e==="left"&&this.onLeft()},50)}loadedImageSwiperEmitter(e){this.imagesSwiperLoaded=e,this.checkIfDataReady()}onSwiperExit(e){if((e==="up"||e==="down")&&this.currentElementId==="swiper"){this.swiperComponent.destroySwiper(),this.step=1,setTimeout(()=>{this.onUp()},100);return}if(e==="left"&&this.currentElementId==="swiper"){this.swiperComponent.destroySwiper(),this.onLeft();return}else return}actionSwiperEmitter(e){this.swiperWatchAuthorizationCheck(e)}hoverSwiperChannel(e){this.hoveredChannel=e}onSideBarExit(e){console.log("[home-screen] onSideBarExit : ",e),this.zone.run(()=>{if(e[0]==="right"){let t=e[1];if(document.getElementById(t)){let i=this.findElement(t);this.sidebarComponent.destroySidebar(),this.setActive(t,"left",this.currentElement.id),this.currentElement=i,this.currentElementId=t}}e[0]==="ok"&&(e[1]===this.currentRoute&&this.initNavStart(),this.sidebarComponent.destroySidebar())})}onSplashEnded(){setTimeout(()=>{this.displayedAnimation=!0,this.loaderVideoEnded=!0,this.showed=!0,this.checkIfDataReady()},7e3)}checkIfDataReady(){if(this.imagesSwiperLoaded+this.imagesHeroLoaded>=this.totalImages&&this.loaderVideoEnded&&(this.isLoading=!1,this.step===1&&this.heroComponent&&this.heroComponent.videoPlayer)){let e=this.heroComponent.videoPlayer.nativeElement;e&&(e.muted=!1,e.play().then(()=>{console.log("Video played successfully")}).catch(t=>{}))}return this.isLoading}initNavStart(){setTimeout(()=>{this.displayedAnimation?(this.currentElement=this.navMap[0],this.currentElementId=this.currentElement.id,this.setActive(this.currentElementId,"open",this.currentElementId)):setTimeout(()=>{this.currentElement=this.navMap[0],this.currentElementId=this.currentElement.id,this.setActive(this.currentElementId,"open",this.currentElementId)},7050)},500)}handleKeyDown(e){if(console.log("Home page --- handleKeyboardEvent : ",e.key),!this.islistening||!this.displayedAnimation||this.currentElement.type==="self")return;let t=Date.now(),n=this.keyPressTimestamps.get(e.key)||0;if(!(t-n<this.KEY_THROTTLE_TIME))switch(this.keyPressTimestamps.set(e.key,t),e.key){case"ArrowUp":this.onUp();break;case"ArrowDown":this.onDown();break;case"ArrowLeft":this.lang==="ar"?this.onRight():this.onLeft();break;case"ArrowRight":this.lang==="ar"?this.onLeft():this.onRight();break;case"Enter":this.onOk();break;case"Escape":case"Back":case"backButton":case"Backspace":this.onReturn();break;default:console.log(`[home] Unhandled key: ${e.key}`)}}onUp(){this.zone.run(()=>{if(this.currentElement.up){let e=this.currentElement.up;if(document.getElementById(e)){let n=this.findElement(e);this.setNotActive(this.currentElementId,e),this.setActive(e,"down",this.currentElement.id),this.currentElement=n,this.currentElementId=e}}})}onDown(){this.zone.run(()=>{if(this.currentElement.down){let e=this.currentElement.down;if(document.getElementById(e)){let n=this.findElement(e);this.setNotActive(this.currentElementId,e),this.setActive(e,"top",this.currentElement.id),this.currentElement=n,this.currentElementId=e}}})}onLeft(){console.log("onLeft()"),this.zone.run(()=>{if(console.log(this.currentElement),this.currentElement.left){let e=this.currentElement.left,t=document.getElementById(e);if(console.log(t),t){let n=this.findElement(e);this.setNotActive(this.currentElementId,e),this.setActive(e,"right",this.currentElement.id),this.currentElement=n,this.currentElementId=e}}})}onRight(){this.zone.run(()=>{if(this.currentElement.right){let e=this.currentElement.right;if(document.getElementById(e)){let n=this.findElement(e);this.setNotActive(this.currentElementId,e),this.setActive(e,"left",this.currentElement.id),this.currentElement=n,this.currentElementId=e}}})}onOk(){if(this.currentElement.action){let e=this.currentElement.action;this.zone.run(()=>{typeof this[e]=="function"&&this[e]()})}}onReturn(){if(this.currentElement.return){let e=this.currentElement.return;this.zone.run(()=>{typeof this[e]=="function"&&this[e]()})}else this.zone.run(()=>{this.navCtrl.navigateBack("/home")})}setActive(e,t,n){return u(this,null,function*(){let i=O=>new Promise(G=>setTimeout(G,O)),s=!1,m=0;do{if(yield i(200),e==="swiper")this.swiperComponent&&(this.swiperComponent.initSwiper(t,n),s=!0);else if(e==="hero")this.heroComponent&&(this.heroComponent.initHero(t,n),s=!0);else if(e==="sidebar")this.sidebarComponent&&(this.sidebarComponent.initSidebar(t,n),s=!0);else{let O=document.getElementById(e);O&&(this.renderer2.addClass(O,"active"),O.setAttribute("tabindex","0"),O.focus(),s=!0)}m++}while(!s&&m<20)})}setNotActive(e,t){return u(this,null,function*(){let n=m=>new Promise(O=>setTimeout(O,m)),i=!1,s=0;do{yield n(200),e==="hero"&&t==="swiper"&&(this.step=2,this.heroComponent.videoReady=!1,this.heroComponent.stopVideo());let m=document.getElementById(e);m?(this.renderer2.removeClass(m,"active"),m.setAttribute("tabindex","-1"),document.activeElement===m&&m.blur(),i=!0):s++}while(!i&&s<20)})}findElement(e){for(let t of this.navMap)if(t.id===e)return t;return this.navMap[0]}heroWatchAuthorizationCheck(e){(e.categoryType==="channel"||e.content_type==="channel")&&(this.isFreeLive||e.paid===!1?this.freeForGuest?this.heroNavigateToLiveTv(e.channel.id):this.isConnected?this.heroNavigateToLiveTv(e.channel.id):this.navCtrl.navigateBack("/authentication"):this.isConnected?e.authorized?this.heroNavigateToLiveTv(e.channel.id):this.navCtrl.navigateBack("/payment"):this.navCtrl.navigateBack("/authentication"))}swiperWatchAuthorizationCheck(e){(e.categoryType==="channel"||e.content_type==="channel")&&(this.isFreeLive||e.paid===!1?this.freeForGuest?this.swiperNavigateToLiveTv(e._id):this.isConnected?this.swiperNavigateToLiveTv(e._id):this.navCtrl.navigateBack("/authentication"):this.isConnected?e.authorized?this.swiperNavigateToLiveTv(e._id):this.navCtrl.navigateBack("/payment"):this.navCtrl.navigateBack("/authentication"))}heroNavigateToLiveTv(e){this.navCtrl.navigateBack("/live-tv",{state:{selectedChannel:e}})}swiperNavigateToLiveTv(e){this.navCtrl.navigateBack("/live-tv",{state:{selectedChannel:e}})}};a.\u0275fac=function(t){return new(t||a)(v(se),v(L),v(F),v(re),v(me),v(le),v(H),v(K))},a.\u0275cmp=V({type:a,selectors:[["app-home"]],viewQuery:function(t,n){if(t&1&&(w(te,5),w(ee,5),w($,5)),t&2){let i;C(i=b())&&(n.swiperComponent=i.first),C(i=b())&&(n.heroComponent=i.first),C(i=b())&&(n.sidebarComponent=i.first)}},hostBindings:function(t,n){t&1&&E("keydown",function(s){return n.handleKeyDown(s)},!1,N)},decls:5,vars:2,consts:[[1,"custom-content"],["size","12"],["class","loading",4,"ngIf"],[4,"ngIf"],[1,"loading"],["src","assets/img/loader.gif","alt","logo"],[1,"logo"],["src","assets/img/ds-full.png","alt","logo"],["id","hero","tabindex","-1",3,"banners","step","loadedImageEmitter","actionEmitter","exitEmitter",4,"ngIf"],[3,"data",4,"ngIf"],["id","swiper","tabindex","-1",3,"exitEmitter","loadedImageEmitter","actionEmitter","hoverSwiperChannel","categories","channelBannerLogo","step"],["id","sidebar","tabindex","-1",3,"exitEmitter"],["id","hero","tabindex","-1",3,"loadedImageEmitter","actionEmitter","exitEmitter","banners","step"],[3,"data"]],template:function(t,n){t&1&&(d(0,"ion-content",0)(1,"ion-row")(2,"ion-col",1),_(3,qe,2,0,"div",2)(4,We,17,15,"ng-container",3),c()()()),t&2&&(l(3),p("ngIf",!n.displayedAnimation),l(),p("ngIf",n.open&&n.displayedAnimation))},dependencies:[he,ce,de,pe,A,R,ee,te,$,ue,q,Q],styles:[".custom-content[_ngcontent-%COMP%]{--background: #003da1}.inner-scroll.scroll-y[_ngcontent-%COMP%]{overflow:hidden!important;overscroll-behavior-y:none!important}.inner-scroll[_ngcontent-%COMP%]{overflow:hidden!important}ion-content[_ngcontent-%COMP%]::part(scroll){overflow:hidden;overscroll-behavior:none}ion-col[_ngcontent-%COMP%]{overflow:hidden}app-hero[_ngcontent-%COMP%]{outline:none}.loading[_ngcontent-%COMP%]{z-index:1000000000000000000000000000000000000000000000!important}.loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100vh;object-fit:cover;z-index:99999}.loader-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#003da1;z-index:9999}.loader-video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}header[_ngcontent-%COMP%]{position:absolute;margin-top:10px;width:100%;z-index:4}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px}footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;z-index:3;display:flex;align-items:center;justify-content:center;padding:10px;color:#fff;font-size:10px}footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#48a1fb;border:1px solid #48a1fb;border-radius:50%;padding:3px;margin:0 10px}"]});let r=a;return r})();export{Bt as HomePage};
